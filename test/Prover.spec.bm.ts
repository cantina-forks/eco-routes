import { ethers } from 'hardhat'
import { expect, assert } from 'chai'
import { deploy } from './utils'
import { SignerWithAddress } from '@nomiclabs/hardhat-ethers/signers'
import { MockL1Block__factory, Prover__factory } from '../typechain-types'
import {
  encodeRlp,
  getAddress,
  getBigInt,
  getBytes,
  getUint,
  hexlify,
  keccak256,
  toBeArray,
  toBeHex,
  toBigInt,
  solidityPackedKeccak256,
  toQuantity,
  stripZerosLeft,
  zeroPadValue,
} from 'ethers'
import { toBytes, hexToBigInt, toHex, numberToHex } from 'viem'

// Test Data taken from Testnet
// Intent Creation tx: 0x05072bdf72e4ef97ce2bb8a016aaa461ac1dfcbe9bcffacd2cbf201920e48ef1
// intent Hash 0x033aa105235feb7bcfe28f1e9c4ff787d743ccff9226aff68df40e11a09d7527
// Fulfillment tx:  0x7c7c5200002fc31bdbd6f95de3fb808437ca24fff3517ea3b2b89c12df073a27
// L1 Settlement Batch: 101812
// L1 Settlement Batch Last Block: 12217560 (0xba6cd8)
// L1 State Root Submission tx: 0x5b765f43123f90125698f95d69f7309e79c749448938f7725b290e4d72ef5ded
// Layer1 Block Used for Proving: 6252382 (0x5f675e)
// Layer1 Block Used for Proving Hash:
// Prove L1 world state tx:  0x2d8a93670abdf964ca2880495be27b91d6cfe0e15b554b86fa92e48682add2da
// Proven L1 world state root: 0x8ec56e24bfc7bb4268b379c090115f620541ab715b696902b05cf691b294ed9c
// In proveL2WorldState
// Layer 1 Batch Number:  101812
// Prove L2 world state tx:  0x93df5fbbe123cc5bcd4de7f5d965b2c1bb21f2b68589da536974ed32323d8008
// In proveIntent
// Prove Intent tx:  0x5ad7404f322ef10b5db8c137ae0ed49f0861ac68d092f7d9a92c5bfeb32860bb
// In withdrawReward
// Withdrawal tx:  0xa0ee48b981289a9d1fd1c2c92d9ce45651438c76df8b9c7d35cea1c1b552e373
//
// L1 blockdata Note: * indicates field is a uint and length could be odd and may need to be cleaned
const testnetL1BlockNumber = '0x5f675e'
const testnetL1BLockDataHash =
  '0x7b8b0cdf46d1ad72ec627f9ac23ec072b4c55f7fd10494d1179e593ce300089d'

const testnetRawL1BlockData = [
  '0x68eb2d082ac10adbeeb3f0f0cda011124b9fd59c9b168a80dffa385ec707f839', // parentHash bytes32
  '0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347', // sha3Uncles bytes32
  '0x9b7e335088762ad8061c04d08c37902abc8acb87', // miner address
  '0x8ec56e24bfc7bb4268b379c090115f620541ab715b696902b05cf691b294ed9c', // stateRoot bytes32
  '0x542f860255cbac49d08d86978475cc404aa41bfa004d3f78aeb4f177389d0fa1', // transactionsRoot bytes32
  '0x9e321cafcc951d9775e0439f45e492dc3ea54a4cdbfea6e206314f34e1fb4917', // receiptsRoot bytes32
  '0x2700888ca81048c80210545718988068000146001010044750240828474202523a4d104040e24081401208a1042409801030341006048ca410a0321303ac001a9010b088846c02aec080200a122200421440568082c442372102280b160434903e8100100a0a40c080100c000040890268288080414142200428439815880204a288022c0c504523e58080190529853290101c20200621408201234235680008231c2023118312803062838e4100001c204805a81084834a0430221a9c4b46794250300290b0020014216c01180ac01001820ba8905088056202b7640501f03a701882000684008018491008a4281128030c3280aabc0e053d08028408dc6e00', // logsBloom bytes
  '0x0', // *difficulty uint
  '0x5f675e', // *number uint
  '0x1c9c380', // *gasLimit uint
  '0xae5edd', // *gasUsed uint
  '0x66883a40', // *timestamp uint
  '0xd883010d0b846765746888676f312e32312e36856c696e7578', // extraData bytes
  '0x1594d181da3506a721d2fbe3c86329f2ece8fb8fb79c6c0e818e043bb6dc6431', // mixHash bytes32
  '0x0000000000000000', // *nonce uint
  '0x17fc4c7d0', // *baseFeePerGas uint
  '0xa233010a5e1d320114fde60d009b1268a477ffbd7e23070fdbf4d78d07c12712', // withdrawalsRoot bytes32
  '0x20000', // *blobGasUsed uint
  '0x33c0000', // *excessBlobGas uint
  '0xc557d1416e01aeb569aee4db59e396613a3d93892a6c3036d82a7b2261f2af68', // parentBeaconBlockRoot
]
const testnetAssembledL1BlockData = [
  '0x68eb2d082ac10adbeeb3f0f0cda011124b9fd59c9b168a80dffa385ec707f839', // parentHash
  '0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347', // sha3Uncles
  '0x9b7e335088762ad8061c04d08c37902abc8acb87', // miner
  '0x8ec56e24bfc7bb4268b379c090115f620541ab715b696902b05cf691b294ed9c', // stateRoot
  '0x542f860255cbac49d08d86978475cc404aa41bfa004d3f78aeb4f177389d0fa1', // transactionsRoot
  '0x9e321cafcc951d9775e0439f45e492dc3ea54a4cdbfea6e206314f34e1fb4917', // receiptsRoot
  '0x2700888ca81048c80210545718988068000146001010044750240828474202523a4d104040e24081401208a1042409801030341006048ca410a0321303ac001a9010b088846c02aec080200a122200421440568082c442372102280b160434903e8100100a0a40c080100c000040890268288080414142200428439815880204a288022c0c504523e58080190529853290101c20200621408201234235680008231c2023118312803062838e4100001c204805a81084834a0430221a9c4b46794250300290b0020014216c01180ac01001820ba8905088056202b7640501f03a701882000684008018491008a4281128030c3280aabc0e053d08028408dc6e00', // logsBloom
  '0x0', // *difficulty
  '0x5f675e', // *number
  '0x1c9c380', // *gasLimit
  '0xae5edd', // *gasUsed
  '0x66883a40', // *timestamp
  '0xd883010d0b846765746888676f312e32312e36856c696e7578', // extraData
  '0x1594d181da3506a721d2fbe3c86329f2ece8fb8fb79c6c0e818e043bb6dc6431', // mixHash
  '0x0000000000000000', // *nonce
  '0x17fc4c7d0', // *baseFeePerGas
  '0xa233010a5e1d320114fde60d009b1268a477ffbd7e23070fdbf4d78d07c12712', // withdrawalsRoot
  '0x20000', // *blobGasUsed
  '0x33c0000', // *excessBlobGas
  '0xc557d1416e01aeb569aee4db59e396613a3d93892a6c3036d82a7b2261f2af68', // parentBeaconBlockRoot
]

const testnetCleanedL1BlockData = [
  '0x68eb2d082ac10adbeeb3f0f0cda011124b9fd59c9b168a80dffa385ec707f839', // parentHash
  '0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347', // sha3Uncles
  '0x9b7e335088762ad8061c04d08c37902abc8acb87', // miner
  '0x8ec56e24bfc7bb4268b379c090115f620541ab715b696902b05cf691b294ed9c', // stateRoot
  '0x542f860255cbac49d08d86978475cc404aa41bfa004d3f78aeb4f177389d0fa1', // transactionsRoot
  '0x9e321cafcc951d9775e0439f45e492dc3ea54a4cdbfea6e206314f34e1fb4917', // receiptsRoot
  '0x2700888ca81048c80210545718988068000146001010044750240828474202523a4d104040e24081401208a1042409801030341006048ca410a0321303ac001a9010b088846c02aec080200a122200421440568082c442372102280b160434903e8100100a0a40c080100c000040890268288080414142200428439815880204a288022c0c504523e58080190529853290101c20200621408201234235680008231c2023118312803062838e4100001c204805a81084834a0430221a9c4b46794250300290b0020014216c01180ac01001820ba8905088056202b7640501f03a701882000684008018491008a4281128030c3280aabc0e053d08028408dc6e00', // logsBloom
  '0x', // *difficulty ***
  '0x5f675e', // *number
  '0x01c9c380', // *gasLimit ***
  '0xae5edd', // *gasUsed
  '0x66883a40', // *timestamp
  '0xd883010d0b846765746888676f312e32312e36856c696e7578', // extraData
  '0x1594d181da3506a721d2fbe3c86329f2ece8fb8fb79c6c0e818e043bb6dc6431', // mixHash
  '0x0000000000000000', // *nonce
  '0x017fc4c7d0', // *baseFeePerGas ***
  '0xa233010a5e1d320114fde60d009b1268a477ffbd7e23070fdbf4d78d07c12712', // withdrawalsRoot
  '0x020000', // *blobGasUsed ***
  '0x033c0000', // *excessBlobGas ***
  '0xc557d1416e01aeb569aee4db59e396613a3d93892a6c3036d82a7b2261f2af68', // parentBeaconBlockRoot
]

const testnetL1RLPEncodedBlockData =
  '0xf90265a068eb2d082ac10adbeeb3f0f0cda011124b9fd59c9b168a80dffa385ec707f839a01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347949b7e335088762ad8061c04d08c37902abc8acb87a08ec56e24bfc7bb4268b379c090115f620541ab715b696902b05cf691b294ed9ca0542f860255cbac49d08d86978475cc404aa41bfa004d3f78aeb4f177389d0fa1a09e321cafcc951d9775e0439f45e492dc3ea54a4cdbfea6e206314f34e1fb4917b901002700888ca81048c80210545718988068000146001010044750240828474202523a4d104040e24081401208a1042409801030341006048ca410a0321303ac001a9010b088846c02aec080200a122200421440568082c442372102280b160434903e8100100a0a40c080100c000040890268288080414142200428439815880204a288022c0c504523e58080190529853290101c20200621408201234235680008231c2023118312803062838e4100001c204805a81084834a0430221a9c4b46794250300290b0020014216c01180ac01001820ba8905088056202b7640501f03a701882000684008018491008a4281128030c3280aabc0e053d08028408dc6e0080835f675e8401c9c38083ae5edd8466883a4099d883010d0b846765746888676f312e32312e36856c696e7578a01594d181da3506a721d2fbe3c86329f2ece8fb8fb79c6c0e818e043bb6dc643188000000000000000085017fc4c7d0a0a233010a5e1d320114fde60d009b1268a477ffbd7e23070fdbf4d78d07c127128302000084033c0000a0c557d1416e01aeb569aee4db59e396613a3d93892a6c3036d82a7b2261f2af68'

const testnetL2_WORLD_STATE_ROOT =
  '0xee6dece108acbd3652d8102478c911e349323bf334e945afa17e771d43ca79c9'

// storage root / storage hash from eth_getProof(l2tol1messagePasser, [], block where intent was fulfilled)
const testnetL2_MESSAGE_PASSER_STORAGE_ROOT =
  '0xca394dc77a4a0d0be5a228563f1779bfd94beb7c461555015cd815a7a33fcce5'

const testnetL2_BATCH_LATEST_BLOCK_HASH =
  '0xb8315cbc422e318672618dfb3617d8d47eb0283b4a00bddf2258b3f39676d576'

const testnetBATCH_INDEX = 101812

const testnetl1StorageProof = [
  '0xf90211a0b01dc29e5edcedf77b7d69e47ce48c61aeb88459a42e4c1cfde7a4ecfbe15cc0a04dca8be009fcfe598437b562e1e11b836d00a9015d810e4fa2f6da3bdc9fd483a0f6d65460d77f40d7e189d73e30bc9bc634c3d63fbc286ac44eaeec7807e1fda5a04f8e57d66ebc6b21f04013f73518b74ae9c8762545bc4bdfac3f7f19feff73c0a02bdfe52c45a00c1ed4a4813aefc66b36a3f1881a24084a844890dbbf656a8c7aa0c9e0bfba3ac84fca2e94e72dd7d7e8dfcd86c90ad44000343dacc9173b9ab428a03a646aa0f12e11d89b5a671161eb68d7d2286ce07bef6e8a12572d41d7d25621a07631aaea457bda8b6e199ef147a89a8ff86a6619ec76c529c0edc7436afc12aca01b1b50f6aa455f9e4f82fbbcd28a88930a6a561bf90c1e970c949f71a2b5304aa07672dd1ffebb2ffe820f8ef51ffa03ad8b4f6139af50438b385940b14d830668a04c6d86bc021b2e900c2742e7ad5e70f3ba7a5fb6136d89fec1791884fe883be4a034a22f6576dbaef38344f42b6c7c1ccd12826123e2dd2f5c4cadc9ddd8c01d30a0e6320acf043936f5d132c5f36bd3b33aad210579941deb3ca3ba7501ed593b41a0e7046ee119a1ca49632980067b5174ab397e5a853cbc783349a38d3e99ee6296a0a1208fd919bde7e6813f62f877ce11d0d6d1ce43314288eb9a3165b5406efef3a04e108b5b0a8e817f28fb7ac9b80ff8b868a33361f8673ad02bd21ab4e989f01f80',
  '0xf90211a08f5a6a4ef380985f3fa8330ca782f60db52c1c0f1353591d4ea4bffb705e2840a05b4173c2eb1d40db225db263b6b9b438c09ce3870af8cc5f26a2d95feb37f51aa0ab6b4f593d9cb7b2f1af80000437df4fd5934ce1a1cb5111f8ecceadc305b957a03877acc6bcf81de77be094795a48b015309029280130a1850dcd198b126bcd87a078a3e1616f930b8a17d54c82bcab95feed02897e6dab6bb45a346b83d6872067a012108c44eea65a5b5643751f079ed9c469dd441a9f7cc9c020838dd20f205eeca0903d680ea723789eb0866495935c3b132e26168b51df09dda84cbe451422f5d1a0dabce623a33d2e93e5a0c7e62f9faf1d2a6fba6f935853b842dcb033411af7e8a0a7a2b8651a432e5e016f2d7fc8d0ac993e07748c8440f7553ef7f2bfaf61e338a052aaf612555d4b8c9e176a69dbc5648ea2e4c6d82820bd6fae577f88ed48f0fea04965252e6ecd79de065fb8a5ce0305140454ee85c0993533593527762e55de0aa07cef49389b401b13d2a966cb4c7d7007e760bc452d347597a9e6cd69ff73b484a0caff05ec0f510377834c9befa3afe65d43a0c9149b1d0be304b9cb5b87362a0fa012b5ba51e698b33e36c4340e4f5694882b1e3f0ee583430f37f24032194dcb2fa06c2f7d4c036d8a89c07e2065464fb40876e933a8c97b29ee0d857e22250b6a01a0b184888a6892bfeb862098607d8e08bd652d6a05f49577e5ac95c3897e51899d80',
  '0xf90211a0a87cf03f5f28e34b7770d26d1de280ecb682a2743ef1b1b599b649a9dc7d2b8ba07fafbfab23beabf513c6fc15f75da37c314ac0efa54f02318ae417382e110ddca0801deb8cf08997149f0e6099d779ebcae80aaea39813021b8b34ecbeeeb2c3f6a0294a0cb76cd148cb7273a1e19457ead954a8cf162dda9bf91f72c3472fa51a96a0528a88616fe889f3be0b01f612deee7c10f558e84f1d624686ae36c1e57be0c3a094aa8184c9a8c3060a01144024e8f8e7226ed585045daf9479273108ef352220a0afdf1eb38b1b081ff3cb7d9ca4d892eb286e6a4de100222d4304d0b4680079b4a055230a8082839a8637e83cdcb9190a4d3ba00659127910e1209affad062928bba0cdf735de84321f732afe2544fdc8e44fa16a615a5df5c06245dcdeecc7e3efc5a036b5f1e9139b3bedcee5097f5357a3e1021a31da6aee960eed7edb539a574f20a009c61e4f950dad33a79638ca5bf4d31843507d548d251bbe2790ec290e2cdd1ea0f30d08b119f9a44c9edea91ca4b6db4673de30fd14f43c0cb5171fa0194ade3fa0a36d46695869f36c8af9485aba334d86ec5b32db3d0cb69133e9d0dcc6512694a025cec369daaf2e8ae22ed946e6a0e6eed986be3b2a88a62789c1e1d49b3ceb02a08f4e1aa01108f51e905fd0817849fc73917a1e2328b8f2cf3be8232071f0aaa7a0735af50521e6486ddc9dd34fe7e9b37d8013ce98ad2535fa14a99278cdfcd1e380',
  '0xf901f1a02d3f9e1ab4931e77dfa1cff290a4ecbb498e959c2680760b48d4fb32e648f43d80a05f70714bee932d6a19f0b7d5c846352f7eba3401a8b73187dffd42024973da7ba09dd6b3d6c41db9df7ead90e42fd26684bb02f07651294e0d10c41ec8b7615610a0b6045e5120e1da1d46bd9c77c45aa1a47caea9437506d9fb736e4b7b61d92d98a0d7e0651ed872aba715498e7e95a8ab8b4d91262ba484325570a2d81afcd4118ca01e6622544540749e13164fd3b59a6705385d1ece4e5622d01b4be517f684cf54a0ecf7f1986afe650ea976ab6aa3882e6f6549817ea7481a31ed18fad716ed6625a0004f168929951ef8fde90045ad33d558b7d4507f9501e05b7af7c33402b78165a081480483abafeadbbe76544085f140622c35f6a9d7b523c7e1473f79a5651f22a0b3f919ca1f9dcd533fadc6b162f4c2f10f7942b30d4dade23582a7a632a805d9a0f5e3c92df74ba9ff705d91fed3c71bbf1c09b1163b81e710745baeb9d3408f39a06717778fc87b05a59a27e59a4a439dd291fd2cf92b7292e6e9de36547e4cb2eaa0c4f135037a485c9446f39fde3d3afedcd77540020c5b5441241f528de5ff5e72a0506d3be7b05c0bfa3d6ca42a9b1052ab301040e9383b5f3dffd850cbbaed426da0bc519de881b900134d1268dba8fae795e17f1f1431e1bd89ba6899f5dd417bd980',
  '0xf87180808080a02646d7d3b0cadf361a550d876b6fa2cab83e8cab0e55ba284981ce873a9d83c6808080808080808080a08a87017795af9552fed9d67a3250f2c812f011a0024df3d17b51c7decf966d20a0fe6880be7aeb1747731c2972a12a19c398970af05d8105544fe449591096bb5a80',
  '0xf8419e3dd8aaf97ff2631992bd3ee06a9d90db4ee6745da76c5487c278edb6284da1a0874cbb13b40d0bca44814a32cf725f118070942463f1e396fd1943affce6ddbb',
]

const testnetl1ContractData = [
  '0x01', // nonce
  '0x', // balance
  '0x559107e834c19bd65e18c3c30942074e30778de8ca9dc4e57bf42c691978d003', // storageRoot/storageHash
  '0xfa8c9db6c6cab7108dea276f4cd09d575674eb0852c0fa3187e59e98ef977998', // codehash
]

// accountProof piece of eth_getProof()
const testnetl1AccountProof = [
  '0xf90211a08d374019b367c4b6d83cc90f66c3e281a9fc27a2713db9a58715275813fd9a2ea04c774acccbea939f6285194a6a27cfb401596dc24ae61d0ab8e05d1b16dd874ba034b1fe1cfeb25c35632689cedd89f3a7ba2937c39f4fb18afdd6ece9996c61bea065367d6d01abdc45b0ba6c771a1d06092dda8e38103911afc2c7c36e7fc0f547a0f688460b052c494afb092c52b7fa88733bbe26685e74a5c9e5ddec824cda84a3a0485ba333b603cdaba995f66fd390536c35976ad9161ba62a3541ca7b8a78116da0e80e44e2b3d0c0f63be852f77258945c4f418fa5851cdcf1ccd12d37a8f2c612a0ec56ffea88ad0ec2e3514fd66e1df61e7ea94a4c554681b009106b9a2547401ea0991b056d8ad82bed66c9d41a6ed1fea12b92a81850856735c8e9af6eb331410ea0d38b9ad3794e79945dbd38fdc11f3d74656e09f8a937ac70448bda9007f961a9a07c4a4d0819ee98a663a7943e79f80dacb3df8d3c6b5cedf3665985ac35f5e9afa0d7436add2268517c0d5037253f5ed7abd842d69982807f766b3ba5eed188ffb3a0ba93d3fef339e899a6fd66bc04be355779b799e773439d1760236ea45209c71fa00bcb5f31fc5c38f0078c7e789338983ff0f8aae4df69c310cecd45fc44ddd298a05d1590a956729c1ccfd9982824f445d8eed3af23d1fbc3e9ca1abf643177ce2ea05a3404a6debfdf99e1d3e740912bf75854f30d26de891f05fed166c82940e40480',
  '0xf90211a058f46ef29bf7256f84baf75712905658f71b9effbdb9bf496218c92fbb496baca0611739ecb73efce9d1f32d4a6bdf5c8201ff939048cd13ac3352a7f59f354c70a025c984e099d6cdb42d721fb5a3620e0bb85dd4654fa4781df4567b14dd0a0531a077296dbbb8f3fef76cc09e6d75e2e76dbb60fb053690765154435b730a138dc5a00875b97a3af74a4be097175b934701c6ef1edc1dda411b647c8b7afed6f9565da0270870c48c2c340c22b3849c27f0512dd546e81ab6fcf3cf53774a0909434102a0c7222a25b5195d39efb9f05f2b101216878d418a829c06948c49c17c6f405d6ea08569b5711c867ef6c3a62047e33ea2d326c9ecbd00f1916924b2a8431a41e096a061fe0f50585ef9d51d25b28594b9954e0f9abf71f24f4e9ed2712eba33b83ed5a06fc79abab55960d66cee900304095dd5c4e0286a01c60db18a31273cb8d713dfa0d45117c0fcf38f261bee6e48aeff01d97442217bb066ba3a370bd1c36d2b0363a04e392a8a9f60cbbc1f9666b202a74825b12f3b763ac66f9a5d4809d0558ed709a0f85b18f817a256f5639b621c2801bdff7b11140113c0abb595295e60c1de61f8a08b477b1e7a5be2b5ccd8d0b8c87b274dace45c7f52a54c916bd9a106a5d95e40a036f9d15ef8c99163dfe83f2844b31e939121da0214ff9e2e81831008f8772619a0fe9cb134ba2f1b9a3517bca238f622fef0935128dbbaddc60504d71fa817c42480',
  '0xf90211a0954af53a0574547a8daf52fc0457fc098657a583a04e0fd501d1164e04bfe4b6a0dd4f78e5500af61fb701507ee6f5955a4c30a3f34325d8d4e02382ba75cdbf9da0a6f497b65484899db9db0db3f967b6953e4772278febd5f9b5a0cced561136dda08e07a8b706eab4f6ab63c6d04f5badd9d88da04604a89f5f12f51970eb882e38a05833d47105ce0a4cee74645ca2cf7a1f322057e5d95942e4d2d8ed63fc58e4cfa050d51613839f7fba8b0ee93169ae3eb2d8d5da5133ce761b02768dcb9c730cb1a00891d83bf81a0ee7dc077cfbc907929de52787b0ba2dd6d484239cc52326a898a09e8129f8c0473c2b08774f7d42129e01c43b6256894d29ab339c10bdbe64285da078e6b994ebd7cc92a26e28591e6f33b8e12c1e284f42a54c9f813ee89ac6a942a0abfaeda2324a6c9e25e9ea838e0334096a2f1b425578436d1c6aa682020c3b79a02400f0591969b7432b1abec64e9cf98f303c1b5acb04e914caef685fb2de090ca0325e04f4ff915bf007148e271b75ddbc724f74ff7331e575bb8e426c4c62d6cda014958bc1a3d38aa2ffc7511e042b717d15b83fb4660a6615dfcf5c368e774f13a0c22a74a66da535ddbe9cec19ac6aa810537065ec16a43223a2b3f89f4e92be3fa00c843fa1c7d055f114a2225ab718679122c39485e35d533a75e2e4a05dd62fa8a0686e65c006672913f837acc3987f4cfb8902c75470b216de60bc425521a8eee780',
  '0xf90211a000de36b2c7534e83d5bf6b2a73f3ca8366e81ef85d3839d84c0cfed22bcf96c6a09d26759e9788a8360d60169029af706985450feda3b2875e8d5296c3befcf8caa0d5aea7385d7075ed9dc345f13d6ccba2bebe0d7d1f98c4e0403ed805c4826a87a0898ecd16f06534e9dcfd5becfd197e8e564e3a9a2e791a47c97ab27163c3d54da048ca0ff38ada161ca38bd0a752ac9b75369cd58cb2a2a49417f6828cbe00cd98a0135347d3b34fdb5b0703c6155302acf11bfc62da5cdae783ad650f82547e9ad3a07e3c53eacbcf938ffd9ffaecaeb724c65a38eafd09245f8f6f278d61a9c0fdeba084ba6ba37e502c030c8cc38a0a85bf9025040e2755110db097c215d5ed80d0ffa07408c4bdf1442f4e55976d8a3d7118c6f4591ebb66a9126252ecacb61c2e5145a07681a12b2443bd709aac1348b2672801f9ee14e109b7ace35f6c3df56b432693a0ac721d9969d8a0d8beabf310fb284dbc6825717c3261697b118b2e10dda51c8aa069413bc4624ad2db0dfe879f53f35fc1166d90cb4ad98d6bb4e96d3b1c880f24a0d968004ca413ee63ba5d5785323fd2a72baddddf72a3d60267a0653b60610a71a0d095f22b01ec09d484121bda02ad72383dd91c70a3f61759a0b72d483de9c217a0c576b9e7495d527c3dd1072cf7c257adc795c0938e9d3b68eafeb94ff017ac4fa005381b930ce4f6ac2b1a630cf2f417e635fa2736d624de774831d146fd38841280',
  '0xf90211a070b54db96c95873beecf4eabd3a281c283ce6e71d42090f9a1a6d631e3e0a5d7a07c1687f985ce9c2e66ad76df617be5bcabb99ec0ec9e24ff06728ce9ce33a039a077b77e366c195d1133f48b71dd0471ba1a5e8079457d244344fced0480c538afa0958154a6ee88e7c7eaa5a8d43910701eac8a5b1e6d74d0992099d90e4b3d2adea012f428bc7fcbaf3573f466f32d8d312427ee179f2a85d43ae6970c70572f817da0d833086eb7f24345321d29e8f570e9c9078b692a235ceaa5d88dcc8748e23063a01b6f013b66e375a324d56c72f2fa3e684c64c5d281473bc02ac203b48b60fa02a0df6e6b56963a85bfc34c8c803d097c7e48ac5abdbed95af7bbbd5ef89b03e95ca0c134e533ffc6b0238546e0fc0b90adde55c1bb0c7bdcdfc31546befeef6030f6a0edd144f02c3253ba03f4d096de21ed3c30461b9d36031bcef84c7927960e0aeaa00d6d3643f2b63180c8d1d6ee6d4ee3206d4ae430c21b1a1b8ff3535751422f4da04822d350466ce94b437928e3e3849334bca35d8774efb5d970fcf606397ff0f9a0df1d5c5e3670dbe4062fdf013b36f0961c5d0c040a8d1e55bc77dcb052c9b566a026e2080cb667228b98e4a16944caa23fbda940dee14d691ce8052e60df75bcd3a072bdd694454454da217aa190e9b6349940a66ae461eb826284932f55ef11187ea021d458e312a23b4a515e97096726d58592bbf28d5740fde1907e7d34b53e4c9380',
  '0xf901d1a0cdaac1f24386b8ad05fe9002facc552f1a3fe4e154b6ac598a4fc9ced29cf66fa08cb184202418d04566f5ad0bc650a9d20e51e69b4a30a967e0b92e1f131f585ca0bfe116147405f46bf711e907c0b5e60b0fe49d8a1cd7477424e6bd6f946f04aea0331a9d7c229d8576c0399cb1d5dcd8d8b26f593082fca44811cb8b12ed45441ea076ded8f891b0b8ba180e6c8323b34d8d8cd7a6866cbd8408d0321be5362a63eea0981bef44af9c36d6ef1a1a172e2ae1a171aedbedfa2ce0f433f608f5ffc4f61aa0be4455c572b7911c08e489bdd2cea611cafdc3628c61d719f9752dba4fd707d9a09474200f2be6b3a1fc43746b4d47afe8e5c0999ff7170f5f04f53febc19971b0a054b30b0c32a2357452545b748b451f9a2884cdd31780f03179bce3eefa012c9ea0e5dcc4976a340477579dccce881880685604878cb51f5bcfd3252c31ab1ccff8a0464958fa77f044f300fe9a6440a9a72c68095ce1f8b5126048b1d5c9d6b5814e80a05770488815bd4a9d5852a0d18c10b175a489310673309a19236696ff12fba075a00dfc90abddf7e49a68ac2b40bb99cd06fc90f1ba15b9976a1643e78025087c2c80a0c2eeca4c5b1662d7dd554d46b94631e2fc0f4920f0c771a54ac71ce6cfe5e48980',
  '0xf87180808080a0f625013ee8a40505605a04c75a96ac09b1bfa3d183967eeb603f32b5b57acfaea04dc01907d1b0288cfeb0426191feb4396c77b42fb072247de2df2469c3e83b88808080808080808080a08ad8dd6f3ea18e8c98aa9aeaf2d29b3832099685e09bef788529b42b79ead6db80',
  '0xf851808080808080808080a0e9ed5c095bd641c79aec08149f5ebfaf55af5a431feb273e8b3a38cc83f39bf38080808080a0ebc73a4539e12c7e5ec6d112a7b794bcc09d084ce738c6ed6eaff234f2f361a480',
  '0xf8669d2025175e22c85b35ea2185b26c96801b0821bf198a3bb114ace81b3d51b846f8440180a0559107e834c19bd65e18c3c30942074e30778de8ca9dc4e57bf42c691978d003a0fa8c9db6c6cab7108dea276f4cd09d575674eb0852c0fa3187e59e98ef977998',
]

const testnetL1_WORLD_STATE_ROOT =
  '0x8ec56e24bfc7bb4268b379c090115f620541ab715b696902b05cf691b294ed9c'

// Test Data taken from Mainnet
// intent Hash 0xc0f1131d76d144be71e53f3bfd7bd6ee5df8bf8333fd79863ba354684e6c3108
// Intent Creation tx: 0x526542aa64ceed90e45588338da69eee63ec212760ff1886d107bd72a41c58d6
// Fulfillment tx:  0xf2625e0ed2133be838ddc96e4c5c72092f12ef4a272bbbd813a22f4164978054
// Fulfillment Block: 16620665  (0xfd9c79)
// L1 Settlement Batch: 9233
// L1 Settlement Batch Last Block: 16621200 (0xfd9390)
// L1 State Root Submission tx: 0x4321d688adb406ced3e48814e37e78371ccfae580fa393b09a2049b6b2a5f3e3
// L1 State Root Submission Block: 20227902 (0x134a73e)
// Layer1 Transaction Used for Proving: 0x134c5cb - original for testing L1Block Proofs
const L1_MAINNET_OUTPUT_ORACLE_ADDRESS =
  '0x56315b90c40730925ec5485cf004d835058518A0'
const mainnetL1BlockNumber = '0x134c5cb'
const mainnetL1BLockDataHash =
  '0x69e25388f79ab730df37d97f9e93ce60ee6524211a2f00a55bb268499c442f27'

// L1 blockdata Note: * indicates length could be odd and may need to be cleaned using toBeHex as
const mainnetRawBlockData = [
  '0x7e8a7024b4c81e3eb07c5ebf78de460654d9341d90ed9d2e08102dd612f3a010', // parentHash
  '0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347', // sha3Uncles
  '0x95222290dd7278aa3ddd389cc1e1d165cc4bafe5', // miner
  '0x69d3c2c844414686d48dffee7c5b3d319f538fb5a182e9a802d79c91e07c6fac', // stateRoot
  '0xbf649d8f8084880007757343e24018db98911ad53565812733fd5e3b8a1a2bdf', // transactionsRoot
  '0xd92b678d134d1b03cbf299efa84f911abfb23b9ad8bd3c4d06a659c5b2c58b21', // receiptsRoot
  '0xbfbfe5a971e397fcf7ab7b76c2d93f75b67fbbd5d9fc0a9b64dfeb7ffd868f61f79bf3d6ffbe6e9adef87b46ffafcb7ee76dfbbdef7fef37ffa3dbfbdb2f3fb77e6af6096574eafbfb8ffe7affd4fcef726f18b1efdf7cdb77d3eff1efffe39bf3cff7bfeeecfeafcdfff8bad2c2ddfbeaf69efd147fbd7e4e37a53feaebeedf5cfed7de86ededfbebffff5fbffa07779cfbffe1bd9f3ecfefeca35afdf97f267fff7ebfff7be7d77f7b7efa9bd3fff38f73ecf96fffed0f579faed779c39a7afb9e46afb71cfb39888b16bedecbff6fbfe989d3bb7d65bd73ebf53e7cd9f6df7ffdb967aea77f9377bcbff77d9af7875be7f66978b237fee8dbfb47bbfd74e5', // logsBloom
  '0x0', // *difficulty
  '0x134c5cb', // *number
  '0x1c9c380', // *gasLimit
  '0x1c97b7b', // *gasUsed
  '0x66870eff', // *timestamp
  '0x6265617665726275696c642e6f7267', // extraData
  '0xad13639d8887da1ab898c727d58f693ec1d04158957556bb1632780fe76e06ed', // mixHash
  '0x0000000000000000', // *nonce
  '0x12804e1fe', // *baseFeePerGas
  '0xe32735932f1ec21f4120d5e090d7dc2e749d72775926c91d7263edc7c9bde91e', // withdrawalsRoot
  '0xc0000', // *blobGasUsed
  '0xe60000', // *excessBlobGas
  '0x128663e7a4dfff98aa92d30429b7a65e0da8f464e89f92182daed40db01a0044', // parentBeaconBlockRoot
]

const mainnetAssembledL1BlockData = [
  '0x7e8a7024b4c81e3eb07c5ebf78de460654d9341d90ed9d2e08102dd612f3a010',
  '0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347',
  '0x95222290dd7278aa3ddd389cc1e1d165cc4bafe5',
  '0x69d3c2c844414686d48dffee7c5b3d319f538fb5a182e9a802d79c91e07c6fac',
  '0xbf649d8f8084880007757343e24018db98911ad53565812733fd5e3b8a1a2bdf',
  '0xd92b678d134d1b03cbf299efa84f911abfb23b9ad8bd3c4d06a659c5b2c58b21',
  '0xbfbfe5a971e397fcf7ab7b76c2d93f75b67fbbd5d9fc0a9b64dfeb7ffd868f61f79bf3d6ffbe6e9adef87b46ffafcb7ee76dfbbdef7fef37ffa3dbfbdb2f3fb77e6af6096574eafbfb8ffe7affd4fcef726f18b1efdf7cdb77d3eff1efffe39bf3cff7bfeeecfeafcdfff8bad2c2ddfbeaf69efd147fbd7e4e37a53feaebeedf5cfed7de86ededfbebffff5fbffa07779cfbffe1bd9f3ecfefeca35afdf97f267fff7ebfff7be7d77f7b7efa9bd3fff38f73ecf96fffed0f579faed779c39a7afb9e46afb71cfb39888b16bedecbff6fbfe989d3bb7d65bd73ebf53e7cd9f6df7ffdb967aea77f9377bcbff77d9af7875be7f66978b237fee8dbfb47bbfd74e5',
  '0x0',
  '0x134c5cb',
  '0x1c9c380',
  '0x1c97b7b',
  '0x66870eff',
  '0x6265617665726275696c642e6f7267',
  '0xad13639d8887da1ab898c727d58f693ec1d04158957556bb1632780fe76e06ed',
  '0x0000000000000000',
  '0x12804e1fe',
  '0xe32735932f1ec21f4120d5e090d7dc2e749d72775926c91d7263edc7c9bde91e',
  '0xc0000',
  '0xe60000',
  '0x128663e7a4dfff98aa92d30429b7a65e0da8f464e89f92182daed40db01a0044',
]

const mainnetCleanedL1BlockData = [
  '0x7e8a7024b4c81e3eb07c5ebf78de460654d9341d90ed9d2e08102dd612f3a010',
  '0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347',
  '0x95222290dd7278aa3ddd389cc1e1d165cc4bafe5',
  '0x69d3c2c844414686d48dffee7c5b3d319f538fb5a182e9a802d79c91e07c6fac',
  '0xbf649d8f8084880007757343e24018db98911ad53565812733fd5e3b8a1a2bdf',
  '0xd92b678d134d1b03cbf299efa84f911abfb23b9ad8bd3c4d06a659c5b2c58b21',
  '0xbfbfe5a971e397fcf7ab7b76c2d93f75b67fbbd5d9fc0a9b64dfeb7ffd868f61f79bf3d6ffbe6e9adef87b46ffafcb7ee76dfbbdef7fef37ffa3dbfbdb2f3fb77e6af6096574eafbfb8ffe7affd4fcef726f18b1efdf7cdb77d3eff1efffe39bf3cff7bfeeecfeafcdfff8bad2c2ddfbeaf69efd147fbd7e4e37a53feaebeedf5cfed7de86ededfbebffff5fbffa07779cfbffe1bd9f3ecfefeca35afdf97f267fff7ebfff7be7d77f7b7efa9bd3fff38f73ecf96fffed0f579faed779c39a7afb9e46afb71cfb39888b16bedecbff6fbfe989d3bb7d65bd73ebf53e7cd9f6df7ffdb967aea77f9377bcbff77d9af7875be7f66978b237fee8dbfb47bbfd74e5',
  '0x00', // *difficulty ***
  '0x0134c5cb', // *number ***********
  '0x01c9c380', // *gasLimit ***
  '0x01c97b7b', // *gasUsed ***
  '0x66870eff', // *timestamp
  '0x6265617665726275696c642e6f7267',
  '0xad13639d8887da1ab898c727d58f693ec1d04158957556bb1632780fe76e06ed',
  '0x0000000000000000', // *nonce
  '0x012804e1fe', // *baseFeePerGas ***
  '0xe32735932f1ec21f4120d5e090d7dc2e749d72775926c91d7263edc7c9bde91e',
  '0x0c0000', // *blobGasUsed ***
  '0xe60000', // *excessBlobGas
  '0x128663e7a4dfff98aa92d30429b7a65e0da8f464e89f92182daed40db01a0044',
]
const mainnetL1RLPEncodedBlockData =
  '0xf9025ca07e8a7024b4c81e3eb07c5ebf78de460654d9341d90ed9d2e08102dd612f3a010a01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d493479495222290dd7278aa3ddd389cc1e1d165cc4bafe5a069d3c2c844414686d48dffee7c5b3d319f538fb5a182e9a802d79c91e07c6faca0bf649d8f8084880007757343e24018db98911ad53565812733fd5e3b8a1a2bdfa0d92b678d134d1b03cbf299efa84f911abfb23b9ad8bd3c4d06a659c5b2c58b21b90100bfbfe5a971e397fcf7ab7b76c2d93f75b67fbbd5d9fc0a9b64dfeb7ffd868f61f79bf3d6ffbe6e9adef87b46ffafcb7ee76dfbbdef7fef37ffa3dbfbdb2f3fb77e6af6096574eafbfb8ffe7affd4fcef726f18b1efdf7cdb77d3eff1efffe39bf3cff7bfeeecfeafcdfff8bad2c2ddfbeaf69efd147fbd7e4e37a53feaebeedf5cfed7de86ededfbebffff5fbffa07779cfbffe1bd9f3ecfefeca35afdf97f267fff7ebfff7be7d77f7b7efa9bd3fff38f73ecf96fffed0f579faed779c39a7afb9e46afb71cfb39888b16bedecbff6fbfe989d3bb7d65bd73ebf53e7cd9f6df7ffdb967aea77f9377bcbff77d9af7875be7f66978b237fee8dbfb47bbfd74e580840134c5cb8401c9c3808401c97b7b8466870eff8f6265617665726275696c642e6f7267a0ad13639d8887da1ab898c727d58f693ec1d04158957556bb1632780fe76e06ed88000000000000000085012804e1fea0e32735932f1ec21f4120d5e090d7dc2e749d72775926c91d7263edc7c9bde91e830c000083e60000a0128663e7a4dfff98aa92d30429b7a65e0da8f464e89f92182daed40db01a0044'

// Full Proving data
// Latest used for end to end tests
// Layer1 Block Used for Proving: 20244201 (0x134e6e9)
// Layer1 Block Hash used for proving: 0xc01073383b3dbe12ee66074ba091c7e684d89c682891edc106227ea3d8742366
// Layer1 Block Used for Proving State Root 0x0d9122c8db2a40f38b9ccc1349f96c3960dcc6cec8f0774e11a4036b61ae1d46

const mainnetL1BlockNumberFull = '0x134e6e9'
const mainnetL1BLockDataHashFull =
  '0xc01073383b3dbe12ee66074ba091c7e684d89c682891edc106227ea3d8742366'
const mainnetL1RLPEncodedBlockDataFull =
  '0xf9025ba070ae12626fc3d8637503aed33dc002d60c641e72c3792e1f07a359e376e34197a01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d493479495222290dd7278aa3ddd389cc1e1d165cc4bafe5a00d9122c8db2a40f38b9ccc1349f96c3960dcc6cec8f0774e11a4036b61ae1d46a004bde75e1ac5d02d4ecf2054cf4028b0964f04204e4d3b4926e3a4e011c7ab6aa0ec67ddfb8a54035bfc25f9c1450f32595c717cc046a4dbf8adae63557b20e78cb9010029b17229419e494c73eeb1def29b70b99d55f9849eee61c92989a35453bb400704cfd5ac50c84a3d648073223ab39b18aba31958be522a095e4263c225fe413de184f98f4ad9da2a2886709da34534b6b0ed9175436f3cc528fa4659f9242600db45f0e44e3f516d96d4da12602c2d7b30e43cfb899d47a0d653795f7c89e7c7002e1ff3bff4de4ce88e9e60e92805856585e1e3c1ca493de8afa14e45f0163b8ee0437e4a717507aa7a43e419e28da00446e84cc83f026fad1f2b06695403d5b3e960d2b19b0ddc9da7cf30924cda46bce82211d3ada0326a65f55270f8218010f0fc5cc92c07e6a33cf3f3d1418ac7c152d1a0fd3e22c309abfa6c92815e9580840134e6e98401c9c380840122d0b88466889e538f6265617665726275696c642e6f7267a0ac8c9a028ea95f805bdc00733148f65d61844bd988cbcbf3b0ce363179f84da2880000000000000000847184364ca0360daf42784f86777cef2e5aac8879b494d7957199d1befdf610929f40277f088304000083060000a0f613fa2a37d55f8afcd568edd7e87df225ef0ea39b1fd2c3a3a269e0a469ed8e'

const mainnetL2_WORLD_STATE_ROOT =
  '0x314406d8d77907e757a659b74931beacf4c32bcc0376638d241a5d88fb95fb47' // batch end block
const mainnetL2_WORLD_STATE_ROOT_ORIGINAL =
  '0xfa953177491556f5a52201cde22550d2f8b3cf8669d87207739eb1163120b6c1'

// storage root / storage hash from eth_getProof(l2tol1messagePasser, [], block where intent was fulfilled)
const mainnetL2_MESSAGE_PASSER_STORAGE_ROOT =
  // '0x3ad05bbc32c2cd870074282d3677f7e84596100707cd31fa2fa94f2642525a8d' //fulfillment block
  '0x00faf1418e3fcc6111da1ec8d7f58ad068eaa228d6eb7d1e2e5279cfd1fd67b9' // batch end block
const mainnetL2_MESSAGE_PASSER_STORAGE_ROOT_ORIGINAL =
  '0xd8e1f702b91d878cdb5158b80a48d6a09547fc4da265b6da8e02e400bc7070fc'

// l2EndBatchBlockData.hash
const mainnetL2_BATCH_LATEST_BLOCK_HASH =
  '0x121957c3affb2ffc0fa59facef858612cddb4faabff083288e4dc9e960f7e3c0'
const mainnetL2_BATCH_LATEST_BLOCK_HASH_ORIGINAL =
  '0x6bfaba5eec32daf51506ee1eafc1c03c47310b853f4aa50ed5887c9b74a24323'

const mainnetBATCH_INDEX = 9233n

const mainnetl1StorageProof = [
  '0xf90211a0af1f0d1f5e38c9c4539cf1886839590de024d57145080cd8e09180518f393d8da01ee4237f9cc097b3d7bfddbfb8cb994047aa7de2425eac0fd42599b496510157a0cc29b51345637b4cf0876e548cb150a324c7c22f3b08d4cde8aef2803f6cfb1da0d9c78dd4c2047ebea8c2f87df099c28d2c2ca4c6a258dabe746c440d5aee5fa6a06810a780f478f6c325cafb4dce48c15d4a5aa1bd3c043597976e17affc5134bfa0d6d2b04f5d4fbb7a9f28f5de5b82593f0d7f1ba2c493fea4c7c8da4623e4b20da05659e3ab7fc6a13706edf22b8fd19783e4849aaa5c98faac8efbefbed1b134bca012362a0e3ae388a8052cdcd791ec081b556a3289fadd184ea179fa9c0a271ddda0206d81b30c1018a3000fd359d5e679b06e45f2737089b368b8b9633f2285b29aa0cf09ca76c2d1a44dfed6679ccba0d0b3bbbbfbd5c3165b82911b412eada8d0c9a0e849e8feb201da1339385a6db224cf40a4f23be6a5b31cc0a15a6c66f23c5588a07e8101c7a71a29cfe23fb5ceb935c48ab307b49af495594c8a8ecde20fbd32bfa044ff64f806aae6b00b24359dd79ce4d03f0c2b0546526a4ea6fd81807d218bf4a02563802ed39567024b13d986262060667ab3fe99984c7a1d165ec863c3c435bba0feaa1a05db2a191b4e6f08524843bf7e41c1386eff1f513ccf03e606844c97e5a05cfb7ee4393155442be62ad8e4c17d3913d7e5537fa3b5471891ae0c8fecf79d80',
  '0xf90211a0fb663673505daff7ce8067e0b7d5a54338cfea64d7509580a0d2555a578f61f8a0478a61f0613cd97589399e745e29a3bd30352c387afe2128eaf5fb52b7217c83a02422bdd79c117f871777a851d337d3e0dba1f74090afe98f05f8009a0e0d06f9a0aaddb80f8431044b53b2c096b64a834ca02168f65df573b8419d1b848d32cd7ba0d57d8083658850311baffa7fd192e7cff560019ab7acc89c64fe58f8e9d18146a0755385ea6189040df8f4d834e30b018cd846bfa1dd9ba68abd275be8c168919ca03309c40509feb0d6ddd64b071f1e61b894afbf28952dddd29f0b2dbd545fb067a0aeb664a681617b19f8d0487dfc05214fc7af40f95e67c85965114b571a38cb73a04083963cc3e66f53f30e29e52c8ffbc1291469bb5a1f83f7e5f4640442bd2f2ba0cdf019679125dd85f22fbb3837d0f2d86df040832b57140fdc61578ee9295a67a0614bcfe4302f6c2b6d05281400a110afbeb424be05dcf5bc0f17f35467ab1c50a0ec728f6d8118f93cec242e3af2f6d87687967aa29fd6666cf5b237c82afb6d66a0e0ca573c373b361deb96e58411b373d90179a439369043d5acf46d070ba0f583a057efab9544277f3ddbdfb4e6fa89b602b1ccf45c3228ab467277ba928dfd3803a033b2db9089f3e72fd0aa5558ff9f4fa3e00f8b006819556ac904c16215c11dd0a0f446de65d1111a9778d93fd062e3553130147bf94e96be1180d3b49a2c479b2880',
  '0xf90211a0ab01dda3532f508c54a885e563c260f66490fa8cde8383a7db6348e230c6f8eaa04f5906d28453c0a9ed867e023ebb704ecca977dc12673eeb5ff7d67fdb250b57a09404829d9efc98b1ee5c56fab75919f4b534f4d267e2d45b7cc5758dab595e59a0c502c6ea61005119126fcefccf9f2134149668c7ec953aaee65f6395b0fb4507a0d06deaa23838be6fefb3eac8270c7bcc74e7b0880423ce121a8e5bccaad2e16fa0092e00f6e4c67dbb6b2126b5560917e58ab927b8002abdda9045db340d0d993fa04ab28b8957044293c62a64eea24b99af1a3193a4245db18b61a4294cf3e522c4a00d4399f3d5216692faac59fb7b1019e1adc5e4e20e062a854be7a195b255c0cca02d49b38e2632562d9fe6260c3416d39c58b03448e3d9434da3ef23c6b0e3a09aa0af21ece57671db1bd7f74d373549ae4ce97ef1c9181601126e99f17901bbfd77a054cf7655cd58b33e25264fbb5162d49e0d2132d14b8292e3b093007cad71d3baa01a6a65a5044e7c49e85f9d7223fc123653212b5511005941035101a4f3b0ad5ea0aa0b6f448ac74926d3629b92b9462e0f599642d1691cece3b8153428708e28f2a0b1c4b0b9ad8a9825a7f014f56cde1d7872e126ce620ae3dcfadbea82fbd25c82a0c8318c4d0dafc59b1b64655a4d9ef7e1ed0c6170ebb29cfd884bd665a07e6521a02070f11b5cc476049c717ec18823c2c2c5b3a7781c582e9c92d897f96abd0c9b80',
  '0xf89180a04cbf178c59675533f6938da2f964d1b5c6c01a1b1900e1dea2be65544225235580808080808080a04fb07f6fcf9e8f6376fdc919897fd20ed66263798b00bbd6fc3949026aa8e72580a04f0ec7649d3d14d27724a0cd98755e25080c54ad7a8b9882171cd8f52cad1300a0ac741357e0cfdb7eba20f862bad8464a94469caf91c3a2ba19bd3eb84c36d33080808080',
  '0xf8518080a0706c1c9d12ebf1628f8f79b6f5fc0b03cfc8b761f88f625b735d8ca4167ed5558080a09730b4151d1b0db216052270cbcee0775b13e0d78d5799fdf957b649868f950c8080808080808080808080',
  '0xf851808080808080a0426a7ce918812b041d6499f44e1571db0f7b328e129aa6a29543035d31a5410480a0dd4595bc5a7fc86088e0f08f04f9f8b3926ea7cd264bc427e969a3b70118b5b78080808080808080',
  '0xf8419e200582a57eca94bccd348f4b31abffb92439d2c1e0df5d3ffb1cbfe1097ba1a0dd6bb4535a7f07c5098c3c3b36969ec63632891673c80f2f76d994bb5bf63683',
]

const mainnetl1ContractData = [
  '0x01', // nonce
  '0x', // balance
  '0x863c60c73e37aeb65dd467f615f0edcc9feba9f21bdc0ffb5280743cae233659', // storageRoot/storageHash
  '0x7d1cd19d713c8d64bf663f4168250abfbf690dbb6214c25bf757fee383816914', // codehash
]

// accountProof piece of eth_getProof()
const mainnetl1AccountProof = [
  '0xf90211a0030fafeaadded932fa745581dff4160ea650b600806fc1e309dfdecc814b6440a03cfb6ec3eaedeb7a024b2c4996803df1fa28ed13c42b0712a00f4462c2dd2920a01bce2cfc7bf80fb31ea87fc7b98d290660e119b1068634be855d6558bc51b8b3a09b2d2e1ddf57bfc7fbf98d0b2a7bbd1a4c8b4995fbdbf93b01c64eaa5b92d9cca01d99696917e2c48fe41d43897203281fac420796e8087e305ff8064026667553a087e6cd735d90bfa69843e2456ed79f5b8b7b72235f5579172e8654d24cc7273ea0ba90b63adf8a8ccc1c7627837b23313febc741b42f76eebee005c3adecd41b56a0fe79f521fcde4f2c70cbf081f00039fd1bdfbbd4d8ff374301aa1697e9735399a0d3ff42be8d2fd32663d3586fc2ed88652cd2503f71e28a3e5f8296f23e8e8d9da0af978b1dab0c63d24182d42a5964fe8e0bcaaaeae2efb9a34c98bc0e3fe95053a0b8799dc6cb214b7840e2f8b1146bc7d9a9f960d6d0420d1e9947f650538c9246a0e92c0d831185e24985119a4c40c5df61a09f9e83356670b287ae3e8b20869425a0526bfdae531958239828847d75d1001cb0f3cecfe40afcf53717a63d6fab6d6da052aacc510e3809f6c60700664cd46070b098f8b250022e8988b139d06b4e5536a08e3cd5c278ca608e218cb326efc64eb71410f56b7a827d30c66a2d8fb342fedea082e7053179455c3a051f1d1daefe815a326cc711d13a919bc641720556cfb8e080',
  '0xf90211a04aab56065f1e44323b1742eca073a65f0259f189d6ee2c249567102b435714caa0bf2a4f3ae8ac29089bc9e9709500fdbddce750342930774d1b8566d07c0f00cea0e7041f383a56cc048d3620bb91fbd2f5a847753024fa8ed45c59caca510198ada0736a10ac1a1d338b4b9a1a06c8e2e9fa7908c7f66ab224f922c69912d3038956a093459623d1ac41df312bdeb6cc805f64c147fbdb4e0dfc37dbe17cb5a4e8bc1ca00e77b4210d1e053355dc842f7b611ca2adba28e5d39cadd1e3a3ebb7179037c2a03fa12b0aa5b81d73ec683aad84dd628cfeae8b03810f69418f8adda2e57348d3a0f8ad624bfd56d852c96fdd0cb97b6d4dd847d38a888ecde6b750441e0b84a9fca04b9f31f7d7fab4b3a08875549752d90e3dbc395a3ebb0f68ba1d9d522e8f2deba062fb85b377e173dbfdd61c5ef39f0bd422cae5a655f5e331d2227874b347db46a04cdd903b76788cb9651243659ae713cecca08ae40da63aa155fc3a3d2a2e2ed5a03c5ecabe8a5c872f552165b9ddb0fb7b1876d86ea16798831b069d9a762e5285a09144d9c8ac17cc3255932baf5ad65774e60bf1503acdb3e9489ec453e252a16aa02106c59dee805d0f377faba352acd9ad8f1cd8559e4e0df8a8adf52bb5f0bad4a07bdb4db0d2b432acca318af3e75fa8dd13f06fbc329f55d390216f509f1a0e1ea0711af2c98e965aef1237f9bc67e0aa7853ddb0959df5159e7de91d7de54e0ee180',
  '0xf90211a03462a12bcc074c965f3ca60f519306dbd25205f668fa9d87b1a4fc0eb5643b77a08854345f92946faa04609a0c80f9c82515470ef744d917a2bed5eeb2c3fc56c9a02d2b98318ae9211228bfc8ba712ba88efa5f11807ccbbf8f15f13a7daf9cf723a0023eecde7aa99f2949cbf3f9641a72861941725f9ac4cff9588c8a3c3bf55f08a01e17f33b991b7d9c7c6bca98b01ff9f2f60bd9315c49ce99a677eb02a9d5f407a076439cc8320e3e94b2429ac2bb3d0db7c20e12b259e5897c5b20b8b7380bfbbaa0a73046ee9a67d4af4fc53553b169bf0991ea7692ea70c93b322c0fbd0a622029a0cc3fbc15126a4ab75e8600dae67ab5edc0a9c3f2708a4e281e8492fa27c293f0a0a41e3df5e53773f701c90dc2ad2819a1aa2126d3507adb0482caed99bdb3cd4fa03298c9d1df0f47d50541dfa156217793095d41e013d9cdc933fd82859118b5bca03f7020b79629f7ce46f9d3ff77e26782997d225f5ed194d7abb2365d91e33549a08bbf57bd0cfff6aecec4d1f6a9ad52f55df5f748dc3fcefa13f0da4096ee3e61a0db10d3af4253db8cfeebc2d92f45074667fc1c38d46e1052b2580c40eaf45f2ba048b96d940ed98a0360991c6b3f4b27f48da57bbe0846d924ee2932c82724b97ea00caf432e3628a63f9e35e145c89cf6cc62f2e264180f7a6f2dfd62f487982760a0e1685ec076d61b49ec2cacbbb31f6098180546f00454ba81256d4ab7d133fc0480',
  '0xf90211a09e5c4ad67b3463ae90d6eb750b10ca8f4fa6f96afa16dcca3843fe43e314ed7ca0a9f9c91aa4f490b9ebdfbbc16ad7f627f03168b4b80a30954b7aa3729ce3f8a6a0e86ec468e2839284914113e11b6a4b77ba0e63120785e853122ad2ccee0d74c3a002283dc3aad8a2cc0106e00a430d786997b9b0a60d890fb5662fe49e5d3606dfa05e73b11f1868f7f9ed0b06ea0af372747d325e9852fb8eccab1e36344910cdeea00cf231449dc9fee661d3cf554fe788f2968fe9211d930e95ed0bcaec22c8fb0da01c27c59d15ea2923ebb72a2b7b3bb4a24a93df63385ca9bd16c90c23be8ca7c8a04fe3f63939a129ec70677bee5af192cba6c78f2a12ab0d70a0a29ab538fa8287a006d63deff8b022a92933b3af7350d96c586fcd3507593aacf7b103813ed25bdca076eaf4d9255898e2180d71424f836eab2a760f407a12d328b2b6a7fde0a4a03da0af05cd0bb2d5a5f8dbf6fafec2cc7a309d19941662c6caa958deaf2918baaad6a0446c5d3ee07ab0ef2ca74a0fa9bfac33f73e7911d2665a5be5cb489f0dbb3825a038cec665b513611f29d2a1377bbb8cecd02502a1e067833a602eaab996129cb2a09429d434f94da0dfe186294fb3cdde3743490d757a732e348daab87d6a75509fa0488a0f59051be652a805063bb08e98a0e177b101a4c83b323783f038ee0cdc7aa0ae43cb049d94729caf34a77ebf686194ef27de68d266e31082908e5dc3fdcbcc80',
  '0xf90211a09fdb4def9b3c7e939f2081e6ed3b3f3c6175b806bcc12b814b654f87e2368d72a075762247779bcca5950f3f87c0c2413228d3393703cc37223fc4d1e9967495c0a0fd309c22cea8ad5ef365382cbdf561469d84a7fef82fcdff9083af431ecce699a0f068d8d0011951172c202034f93573b84f08bcd55d595fe4aac82a994548f3d5a067364293934fedee2d9c7f2c3fd5f0618c5f148f31ed429926bb51e2bd540189a064a21cb15183100891a20a39e2339cfa2f35fe356bcaf1bf6005990aa9bdcb39a0378bade81b6e2c5c4d434b3cab63d45b8bfe28695c2e13564d4070546753420ca018ae4705d33bc112e9b1d4d013cedbca4339ec854164a47baa7cc5a99e318c8aa04bce706c62d67c2278175095f73e6289c8c17e3416539c44ecf8c510194b10a4a0c9b508326e149d8193a2f410f3e1cb50b1eb6ee9e2e1632b9fa2a1f0c21101f4a0b6bb73978fd706cea00809bdad56674ead3a7be2bca6a6c517c0f0db895cc404a0ae799df9a5b1f375a0a7d40343e48cd21934edf7339913f9342cc7f4162aff1aa016dceca7966b0f4ceae7ad80e1e2b8648fca07e7d926e7b65d673fea072331d5a0e7a06a7ab1919f717b8162544b679e3a072ea48437f7cf00ed59a722b026bf16a0ff40152acb04a290c9aadba4547fd392d4305e6cdbf33f1d8754b37d86cfc711a028213073ae967666febd6291ed16e63fe9f9f316f4d3869669d0d4e2788fbad380',
  '0xf90211a05189e37dbb06ce2b6d81066f602cfb8da98612c5ba2d5a64edf35fd87ff9a7c4a036a07e6aeaf55363caebb171ded09f34d412ad6660c3a888742ac5591f2a4a45a06eb74cf53af22ea4d37dd60ffae8bb53982f9f39c9b39eec6a4861c6a9bb7948a0ad2126812480a7472909965c2bcea93af4edcb78e250f01b51816bc7b580afc1a0eb57eb0dbc18cf678d97366df6b399a5dfea7cd76919badc1de7a5d0bae80f5ca04b45cfd11260274afef0c49b278b0e91302df828a78dc2a2b82652ad72fdb84ba0048dea89ebeed4b8b978b1ff83050632b4052d3207745441be6c03c89c16e523a02733ad20ee878b38f5033b327006d7242e37f2ec1dce81b8cf7ef3ac440c6bbda0d30df4164d8f1a3928b0c76c1a5b428eb990125c05c7f6c7205ff289bbf48fc2a0eaccdc931faa78b63c1e3a12e8eba5b6348a3c72b49614f87005f6ee7b2e43d2a0b3c42c248ee6f637b6416bea6c59df9de4a74cc98a493a9acf52c33139465638a06a162f6e9d9ae766899500c3ad1e7994bd9dde85ea43e0123a101e8d5b4488f5a0683a2e42ecfe2fcd516f3241ab6ea518eaa372b5f4e92c81af7ad2dcdc23cb13a002218d9fbaee83ef6dd9ead299f82a47808186a5857d446b81828abb44d09324a0e7810ace1ac9dff7b297798c1c52317782dcdba85642e1f3dfaf403493293b9fa0bddcd4b455c968976addb11382c7710c3cbcdbfaae45d28af9063ae10914f2f180',
  '0xf90191a0bf01fe4c963d0fad3032941ce39a44ed467875e47d61a9496d7f775f387560378080a0c40ef229b94141a87a26ae77ff43f86c99667cb23649568788447108e7b0de42a0111c84dbffebf6834dd017cebd5a28827241d22c4c2083ee046a064f2cf9c307a03bed5808e5a02900d7999ebb31ba02e4e4b16aa735e0e54e0830fddf76ac33db80a054a823a4fd4f124f7a7c7343e3792cd74f42872db6c2fe55282baa6cf000b584a04bd9c38d1c03fa6721cb477eda0148d9cb5e0390ecc3340c25cdebccccf7099da04456bdaa774b9961be4d5d30ba273cab51d013b8cb43e529463cb916230f6c88a0704d8f2611fb4003a0f2e4035680f005ca262d17d792c89cf434c82198c1cf67a0031ab3ad9b06da9a4eba55e554d19d011035a7c25124fcb352c3c4881f8089fd80a0f7bb810ec32fe033690832350f97471d7bdc7c52bcf0fcba8947465c9dd8e4f7a0aa4ab32be48e33e14c575d5d0b8a92324e0eb9469c7686a3d45b286261a6f8a3a0061238a6980f4db64fe07c7189e19c707263a86691651672b167baf0851491ad80',
  '0xf871808080a00c37fadee4a7cad201ab8ca9cb320bf8e6e2ec8ba4409cbc5b5a983cb4ddca7480808080808080808080a0e90de4525a24159d03f7b962fb985cab02b78d4a741a6904af35dbc952c4761ea07bf0c4b338ec756bfb619015766edd3dffa78f313ef2406c8f2666e5aac5273180',
  '0xf8669d201e48a731f9cd8ba1fc260d2392ab479b53c4bfb745bd483895154854b846f8440180a0863c60c73e37aeb65dd467f615f0edcc9feba9f21bdc0ffb5280743cae233659a07d1cd19d713c8d64bf663f4168250abfbf690dbb6214c25bf757fee383816914',
]

const mainnetL1_WORLD_STATE_ROOT =
  '0x0d9122c8db2a40f38b9ccc1349f96c3960dcc6cec8f0774e11a4036b61ae1d46'

// ********************* End of Mainnet Data *******************************
// Intent Creation Information
const l1ContractData = [
  '0x01', // nonce
  '0x', // balance
  '0x4d14fc0663fc0c255a3fa651f29eab4745b50a9eb24c0da64c765a8d69de21d4', // storageRoot/storageHash
  '0xfa8c9db6c6cab7108dea276f4cd09d575674eb0852c0fa3187e59e98ef977998', // codehash
]

const l2StorageProof = [
  '0xf838a120ceaa546d78134283b3b4a86b6ae3d0d57bb8166c714a3893d80b26ecd35ccb9f9594445575a842c3f13b4625f1de6b4ee96c721e580a',
]

const l2AccountProof = [
  '0xf90211a06121894b25a347f71af9f348e5c7df50e5b6caadfaf00dfc0993176bd99a097ca058f6fed8b3f6b22be59acf4ef949d24e7f0ecb16cb534af77789826fedfa0825a02b79ca53de2887773c6775cc53ae848a2f12c37331f5b73e9ddb59f58b421d1ca0f77174830b4397d56a13ebb4177a046ef47af6e8b562be745b07fd3a668399f2a0aa2a325836bc9ef19fa5cb46dade4e257a37980c124fb3b3bb26c97027abf4e3a032df9b870da4b0ae4504d0883ebf64ea0726b75ac2195dce69623e175b5fd07aa0fc3700e512de4814befe89220198a32c32cc6545c1310afc7231c1bcc847636ca0bdc50b4db32097b3f755e6853f4e868e7063dd08c0ccfdb91447adcbc3d0abe2a0e06a230a4d343c569dcc3a43655560b3766925b3c6e3bcd4495ad6f5c9ddd6bfa0bdff1a1ead10689a1f323625140fecc8e8de16fd10eaad2c27921aea0750e2e9a09b46a7afbe6014888be0f8b403697144af14587ef391412a1ed1b7500974b335a07a132659f5efd62f88d68d24673cba69ece850cff80c993bbd5cfdbffb3a8e9ea0f317921bec954ce628d654afe7d19635b85d7e76e8d6fe77719a962e93555893a016709a115db98c8204fc15d04cb0793fbc53fc2eb2588a3a48219b8b913e8c1ba0a038b9fd35c02994fad1285e22598a103b74090b70bffa279edf3698b7eca4dca0516faeab9b47f8c521fc7049f6023712bba3789a9571f0721a460156f17c430a80',
  '0xf90211a082617599bcbd763764e2371a2cb9e213bf5fcb5e62e2390659d705612af55f84a055244607d730a310c1681be7d93717508502578814075ed882245f71d41c6dcaa0b4d02272d9b9a9d835ef81114a28f05add1f567d4aa0bc2936bcefb0376c7cb9a025a02c778b4e2dde021b3e7574bb73e40c44579f310e3c1c5a0fbc895650b18ea0b476be08d8b653fa584fedaf380a5b4574899b1790dbd8ee9bb3b4b448bc6f60a0439cc877a0040684f2cda232aba2ec2b3595b7e2b79946474954ef6495c951dba00fff418c7e774c88e7c5ba0505c475fc81e9b4d6816193e225abda57d857a79aa0b3b0c50c29fdb4d28e31dd30d3c9fb1615f14021ccaca92a25d4fdd1c9ca15f1a0030911d915f91b3dd3b3ca997af43ab285c11f66796ca3d82599fcbc062bf0f0a041a98482218b599e288e1cc1858ecee8746c9a5d445da6aea7f99712a88ee93da08b556977769f9c033460c607d0f6279ccb8e822b42a2df812e490f83531b4d17a02b22d0e21597d50c14f2591a1b69f26409b13d96677744f2cc27391f3ae23a21a01c1bb61166fcb8bfcc0bac93052896b1243b107c364a1b6a17fd9ed6fffdc83aa04c2120c7d5f5364c6fc51b9fdd92a5dd490d82c0d8f960b759faeae62adda7f6a07939cd3bd650f106f5cc419b436ecf9a1bf09e7edb3ae120f91b290a28d8153ba0901939b6bc88cdf2a5f189aa726def65149331f9080f99fd1f3be469db818fb280',
  '0xf90211a0deecebb04bb9817a681c1635b24587fd95fc240c88880e7bca79182a6b95e974a0a603841e536ff88c5c4eb94e1d7a6893444cb55930ce727a578901fb0cfa7287a0b3f891bd83cdf3bcba996b32b41c00a5f68e93b4d6f0c36aea8dc6acaa826d2aa0ade828c7aac2c0a01fbd6a94c493818a862c061c4d5b482c9a0bd929b2622a30a086924a1703d1015581971da64c99ef7ec99723bc00cae2a34baff98066a9edcca0af991f2bfc91218f670de0df687f12e7e54c5b0e38a5ca9788bc9c1a4741f27da09b61ce533c48dda81255fc9c5cbbc28d178b709c83705977b25e88c89d75693aa04d88e945e902dffee8442d4c88ab44c21d2cb36a4a2b1f69d2980fdedd29cc64a09a7bc5feedf97c01fc661d133a3cee123027416da17c1b8795c22580b1f31adfa09fdb5fd187b9d374b1c16ca611344bff42f88f27967d10d96eb2dc5cc53b5f7fa020971d3d640527dfd9bb4bd716ff4c07499edd0e5bd8b1a8b2f2b30bbc4a5c11a070feb0816a7e5c4377f599583d07c8df5e21a118128fb53321babf3c4ac54473a07d159ff34c68e67a8a471bc0063788eb01d1ddc798d57a7102810f282bd0795da09e647b9e2bba8a59b2b4d155b764de92128a3c30b1c76442635bdf333c7fa023a0c1ff942a793f47e7444b440983e6d009ba75546ffea420ea10f941879864dbbba0594256865e6241364638f6a6a1e5a5d4d035540cc31629d5b1a36e9a7f4ff5c580',
  '0xf90211a0ae4f0a00684017f70e14d1458909ad7dfca0d3ecfaf6c7039934c7c9ed61b773a0e76bbdd3508abe744421cf2ced34213b9c356eb0058211dae49a7c34f9cf59a4a077664dc1929c8c17c5c3fde1dfa949e6f105108395ae2d743c2c03c7c292a58da05f4da700b5694789705f7c50506a9fd469cb7b54b02c7f0aca8bcd3debe5c9e3a0518beb237b6a25334a63e522eb86e1d11c6c7e4044b8a9928e109fbfd2c75608a0c83e2ecc07aa1c7356a999b25dfcf9a7ac0192198794e7227671ed4be78c74cea0a094641febf17acb0d8a7dd1fad3fd7bc5cc213a4209b680465bd2f8a44baa15a02c02a8a7592b8f707ef794263ab25802b58fa4b987a52aded2cb0a2f9e2054e4a01e27c614e158a2ef85babde068a8d76f107aab26f974ee85e87337aa44164daaa013b58f7dfe16baf1d40bc86f4cd7cf070c5942700c649a062c0f1489741cb79ea03bd9a4918443f8b84657ed68ed02d725bde2150f541df4c4a1a5a582a2c65dd8a0b4f9f1b2d2fab041f38e023cb1aae181e44ca8acb6a26efd025cbc1a7adbc2f8a09497d9c0c3c7a19110f4f3b4cc3f7828e628228579aaa61f89b3bdcb6c3a6690a0d529e986ec16199b3daba1e0fc6ac5fd639b58c4b1485e39627fefa420c7b760a00186cfeb7130d2b63119ce8adced8359dedf984e49864c63c71a2f8b2e56e203a0583a34b58daff2557ced6c47028e8ed63e8c0fe560fa7cb4dbd8004aa9d43c5c80',
  '0xf901d1a08db09d13624104c2a661d7ab0ac2d047c6cf8986ba5df766de5396e267d629a6a072eb3281ab25293b29e90b086a77cf69dff3d1ce905bb6af650857fd84a2c6bea0327b8dc5ab80942984a750a54a99b4c63c159f441a219db42e9b9e230ffe12b3a0f37eba5fbffbd821fdc81cae5654bdad3527a50d40fb08bf99458b684d82b6ee80a0b0f8a7815b773f91a8f2eac1f06680de064a89748106b05766e5cad3b77efb0aa0f38807593c203a53b3ed8d0340023137fe346e990952c0bca6424a4293f871a8a0d1424d978c782c179be6994150dfc3faf5d58dc72611d538d8548da53d6b75f3a0be5d947e1f776f1da25f58095b95e7a120575d8ece634148c21c6f8ca0a2f9bd80a0fa0f8d367cc0786b73c85e8dddafe363aa6ee31c83d110dbf0cf57ac579a4229a01a4c06b358cc35ee753f273d3deb815d120c16a9077b5cfa815994d5b58c96baa081d0b794b4009cea5f452fb7887ba250c4a3257de15cf0a0332d9de5b79e25bca0704e1c3f8f8caec4055cef2d76f39d77ac4590dc02028fa3044a1b7ef2b1766ba0550b6578bc5d90bd7297a494f97a360e628a71104c1fdaee752f527f527a5294a0e051331760e18a0dc706bb58db8a2d8ce365cd2df9bf30609b529a7125b6ad3d80',
  '0xf89180a00101a59c2902350854ffcb7ab745441523a707bab36bc1479e8c8dcce24f2d328080808080a0653999d54210d5244766ec55f9119329441fcf572fb220712930ae1201d43b6480a09fce5223f93751e8f2886ad2affc5673e31582abdde301a46fec9eca05ae37428080a07fc0e0a2566f08e7f320e4ffd64d67b71f2cb777a982cb0fb9e9c04bf7dbcbba80808080',
  '0xf85180808080a07a596d95184cb688eaf5598197d65d773d99afadaf596cfb117a66b9f3c31ea68080808080808080a0abb72d5822095efeb726183261bfdee090ce1158606e392ea2a94b61ccd5b777808080',
  '0xf8669d3037c0233cd2053a89f17a4599efb8c96f07d9a38ddbe10640f9cea584b846f8440180a002db022d2959526a910b41f5686736103098af4ba16c5e014e0255e0289bcc04a0e7560e2b071e0e66064efb4e4076a1b250386cb69b41c2da0bf1ba223e748e46',
]

const l1StorageProof = [
  '0xf90211a0bfd212994604c585735e74f4354be526d18748ad2666e78b65fb49c2e6bbbee9a01c08b76bd207991906711c3cc0b5a6118ab0de3a065d55d14d7015f84d1abc6da088209ce0684c1bdd8c5fd2c2116b48de8abf35e02d96d82b75df7a076e50a254a093a19d41813e8d3464b8291985feb9cdb253f0b20fa6cbd7f1725de2f3c7beada0ea0dc43529bfdcb5d1cb2250b31274cb9de1be1bed9ea497a0e045d310090867a0c76487e313d16116880c195538047de70cca922a4f9eef2cde1a71817fabf607a02d13c2a187bb92d32bc4ceb30abcb5ec4ab37bfdb0cffeb982a248bc6c553b0ea073b674e9c1ae861e94e0a85de933ffc242773f6bc94a039098368363ca407170a0aeb641e53ad9a1b68ae6d2584206c920b5bc9e7c332e7ce5ebc3c02b33fe2499a0026293f79be5701d143d718bb7a3a99d4468eadadb3e0eb9699bde0b9447846aa0c2b3982d16087d116b4c39a979a3ecc3f9636e63d79e824ef21d7efa2bea3776a07acdc461058751de6c9f00b3b7eb0e91746d49ac1e86099b5ac0952cef265da3a0b897cebb783cc6495ab3d600c4779bf61f429496bcfc79aa753e4f79dd70c39ba05177078e3f0591c3bafbfd8231202cb11ad7a5258d9cbe5b4cee2a05cd65fbdba05e9b6fc4323888e58ca307a0efadbff10c09173a8e0b0d783de49933305780eea090569fe014fd575fbae898f89ed8cd4ac59c97e6624864c7e17f4b7b8b9f098f80',
  '0xf90211a05837330dd58f5eb559d4c4e1216a71bb6d7692586a1007cc102e591888b11ff7a0d8cba08d50cc77911ced3f3c627d2083b6061f17b60a703b31f4d5d27cc04a27a0b2941698bde97b39503eb80e893ecc63bf318ab87cfdea133068fe072f3b794da0532d608892ddab1ceac4220816b35717b2f4684d9d03acb4f2f767b0e4056429a017dea5b10f1ec88082ab63fdf0757af11cc4ef7d91aeb3294c5ffc0220d53380a03b2cf450cc3b31e78e2dc15cdfbdf1bcab62f1b1bb242806ca9b261fb5c798b2a0b5e32d66562733e185adc1e588f9fff4884f9a7d0b6207918e6200dfbebf9adfa0893ae5aa4fec9c55e5f48affb5abece1295afba1e34f0deb3efe9f9c8f06ab07a02713bad64d67c69ea2fedf769f8b31272bdc057c38b981ec94448733ec895671a0fc0957f42b8a777134cca63c14fdd5881aeacef46a4128614f10b4247b16acafa07c137333dcd50a3f2cb7498bc70333a01c9b9fb932b3a86e75a3155cfceccb4ca0019a712031e6e1eab128fd5ed8a78456209bf007fd8cb826ae6f98826ba6929ca0bc68e2297de745edddb8bdd63b733cd8d87097727ffe6f1e4357d7be582d8214a05f2b91af78e7f6124766aad44b543ae0da304c69748e803fcb69ae95884c4918a03491f0d634e1fccf3a77b31f77bffb48c477263b6ee83e0c53a5c0f45c938481a05825128641a0d4bdf591f268681d0b1c9ba7aa9b066092b71e3e5ce3768258c780',
  '0xf90211a00a89099fd3ad43d4275f2c013cd9ab57d7e5f5634086afd3a60b641e383ff5afa0df31d5297aef7c76f60fcabcdd1b358e84b014c5913808902438479d1c03ab12a07dcf113cbadd33996a97e1ba78c354f29347e1c88128338b978d38c43de75e28a0ec1c4150d23390483c88c9cdbf3602a833d448d8c2d500cb6fca80f4a8ff93cea0892022ccf0b4ad7a245833c84c3c92475ac1deddd237e6021e28b72a2e212ff5a0b01963ea6b49045636d21b996f40331cd6c1543ecad87e3bc8713a4e890f88eea0c7fc34f928c297015bf0309e61053a6968d2a8d1e63a20038c5dce4730049353a08fc523a2a4e5e2bd1738f8261c5c782c92509d50956860fcc60645096409cd0ba05bde7269f2563aeeb427d5005bd3038fa07fd04ca200a3595aad3e19de2cd926a03e7b56c26ae75337fae9390e84a9feb30ea0973943c8284c8f2ef4fb7375299aa0888a3ef56d3df3ad3eb0d55f944200bf90d2ce86bfc53bf402d8d5f49f38f08ea07d65621167c29949cc3a3a2eea2a3ac390c54b562572442f2a477f2c246c4618a06eba648deb2dddd326097cb8548920d5273e40f2cb4bbd6189772f92fbba277fa0c443c4ca92bf2675e47f32ddb9fc8327a27ba1b8e807afb17900d3f9b8b5efb7a0e32d0db30f450322fd221d33961bd1e8da071a09bbeb13e8fcee3649bd94a7c7a0b623d3b5104e782d41d1ee67782f48c437e065e3ac6acef95d86fffc171c3c6680',
  '0xf901f180a0298816c361a6dd73e5c6d650a116b210117b5f6f95ca91cb380fc45756337b5ba0288af8116f2273750aca980d0c24c72fc7062503d3a753744f9a7bba069c2d6da0bdf98daab367dd62c3854a7271670b254d9283b3001cb094f57ee726d95fbf69a0e3a4a7cf7e7813e446dee70e3593516a950e2d44d7d4f8198bcfca34b0e0a3fba0af93df1050c70e83886e62702540c2acdffeab3121fff3b33ec202694ede8930a047f6b6e892f877c5a336f23d6f76a989df2357e52d7b8a4e1e6968eaaed5d3d4a0174e612df82c6748928adc8d0c4f635bae5b3603851aa0348a73a8ee2265b878a0baa96e56e6b547bcd09c4fce6176e0f086bc8294b258ce2794be203ed82d943ea02b701c002e0cf16ab8669e62ee06a4d42b73c84b11c7619ec35c44fa10a17680a04bc6603c68106b8b5fa17abe17337f57d1294c5c3b6531a03176f7e21d37ad13a0ad353825499cf67aa9cce1e3ced9049450043f2b1d9df76a96b40e353c9b8a45a06d3eec642ecdcd6ded17ca14439fc19502ace50689be0608795a526568238f15a0da4a746889703e3c1ac322ca7bdf307d55df8d35a9d7c56632faa6cacf22ae12a0e3f5048a4b328c842b06a93d2dd713615d8f840ea6e2a36b81906ba6967327e0a0f84969caa1eee6f14b38b91776cf7049446ac4d9d20749b48124670f37c2da8280',
  '0xf87180808080a092cc089f45cfa91178aa2773bd8d9596aea1e71fb6355a4d107d716d365f0c0580a0a4def846c97b1c574e2ec556b5c4282a67357c6b3b9ec2398c20758e6fe2eb33a02ef52f8e3dcfb6ab936437ee578919fb9e674dd2e94d8c0f76889e900158561b808080808080808080',
  '0xf8419e3bd809cd30703531a76fc0e67a1ac5304cb6b58f9cf5f7f618541d6a9043a1a082af251eb4e15ec624f3a0d8e891892e45272cc3b364dec56cd00a1b2f36f62d',
]
// accountProof piece of eth_getProof()
const l1AccountProof = [
  '0xf90211a0bfb9919b56cbfb2a9f7b8ebaf7b121385267a695526e7b818d350bda8a35779aa0c3e83efb439189085ef6dc49ac88ec5b7bf8d50550d9275ab0f625654aba2567a0fdc3a1e7f481199e827e71d18802fb87402cb60782f6edd441b337f72629b46aa0f6caab76d5495f6055c1a300755105c11b1977b2f4dc8bf6da73ebd7389f9633a0ea7a31d6ff8ac41e8f8001cc30ca5225ffb6e7ef3c4e976154f28d239fd301ada0a121fad21a3013c7f3beca644b941ce0c67f2bd5fa467fd0cf06275c1fdae491a05ac0cbbb029266068035ded9bc5d1f3c4deb34c9b42f2a130935aa00ee5fc835a0d1afd8cf6f1a2ee905fdec230b3125b2bca442887255be11faf030cf8394d1daa01796eb6a8ef2aa35005f3d8f29eb67ce9fcb9bd74580b441d6b3a47345387c02a0cbdab1effc199b9a73c4981ad891f2083af9ba2e0119da360e6ab1da63b1c808a072e66cbac9075774bb5169c51c116be00959ebd039ccb9b7e342740a1f728b09a0015587187596d08e872e69b0e3e4d2b801e18c58df32b28d561b3b9c3ab6466fa0ba7d8544f787f088d1fce0302d5b7ba5884a3cb1b5ce1eab75eba8f3698001f5a066b19005e26d3044cc5e3d24db3e4ea1a4aaa33f187e72b6d70b5b71b4a4aa36a0caad9b79328ebf61a28e9b138c0c554fd7abbdc4f0dc95b4ddb03188c0aec000a0087cdd2e809697d89c3cc97bd2c46f3e5d664983504141c0ece3adcef1576aa780',
  '0xf90211a0abee5fcc87a024726d389acc396664e3c6111179fc2086a0f97e7ea7118c3caba042a2b06fdfecd9a8e64fdb010c070a9d4af827f54b19367ecbff1e146546eca3a08c6b298b1f95e287e82abfe33feb781adf90ad5e5f45ed698b3f6f96fc5b1125a07b3eae5d91d1596f33b1a6e36f38536e35236a7880fa456a11cb118742e50d7ea0c72324f4561763ae52e1c9e81936ba15570aabdba6f2bc54afd20a311e66d59ca0aae4698d708af1ba2b8d17fe64d0dba413c09caaa9bab6821200f4b58cd49ffaa046d88f0fca182b2e74e1d055521cd8946f803ceb800a040c701c3ffdc37a989ca01e75b5ef645a675957e7b2c58609c93403f63360d8ffa57721fb39a811b3e9bfa0f017b71c04a00865ca71502600cabafba920d0134f4b6611814f05349dea129aa060be26832ac2e7904e0d3e0c8777e1c1dab9473db5e472b28631c3504ccf1981a0051f9eeefb01737e40f6939d7140b38e2fd17d853e4af00664d66824255fe265a05dbb7bae84978c647d1fd2223c408f25b1253b1e964901d154d269e2ebe4249ca0d18b15ec25551b264457f076bcd7452d10be8529b6953769249885cf6fad13bba0ae8e1ae1f5a2c3b2395c61227da1424f69d59725639c9f0c69d888f76fecea2ea0b0694672f218e3acd40bff738089abc7590a397898f283c66c20e258beec905ca080e30336c15ebb0a74a406c21ce289c673c42dddecbdee98ff5d4fbf42b205d380',
  '0xf90211a0031c8665af86336b044ec4d33e53199998f5169da40f85745f571a7945ea1c70a0ad111faae57c47d184e8f48bb804a0f7811b37cd78bbdd425dbea63fa34fb69da05cd5a3d0f0a902d557073d0e67169ed3664e0478448fa6e23002452d324467a3a0df1bbb117ce6b01a957b486b00e6641c887eba2eed5dcf1afbaa0554971cffa3a06de4ab62fb12660654edbe96cc80a82875485b902d365f6efcae7ccfd49fad9ea0e5b5026772f481a11690034eb3af808efa7cf3d1b886d584910f53a53dfd799ca0151af60bd1f2c5ad5547dcb8e045aac641ce83046481a40bf128dc6ee561793fa0ee0924bfc2ab4f2742ac5a0c75e7ee86eb7db5d643c05aebd0056ad889d07eb7a0ab774ff7894cd332e105ec7aa5c74ad028cbda2754b299b71ac785872fd6dd79a065d5a8648764fef72987e4f98fc0d21d81fca462fca2820ab7af03c861617578a04d961f5216642a0de17a8c32de6136a09ff2f7754a73da86660396e27ca68cb9a034240b77d48c0abfa3a73a1c693c63f76e687cedc891cf45331cb902f3d4aeafa0985cea242344d8ff9bd15d69b196041e924857043160203ba6f23ac9ab5f3470a0fb4c53ed1b723107b5a8d98b697baa9b2850b61aceaca1810e1b3de772db27b4a0a0d04b9a251230b2ae0d4876835247ec8fbcd640d169e1f91d0562507c0546d7a0911e825acca86392e61c55c3f8a47f904f09ac820ead1229140911f99b993f0780',
  '0xf90211a08513cba61790fe62562a2f25698426ca6e4231329627931f3e70a894cff61da2a0fb3b95bdaa6f094cc9e59dc520ec28381547993e80a8e62a1631e1fb9c76df8da01fa11c41869c9a54690911972027704de583ce90899f7e96ab86b35adeb73333a0cbefaff58d2a2e82bd8b5a0afbf2a41ab483ca68105eca20e42e327df9d8ca09a0dbff708ad753c11e82b40839011d5798e652f52915125e57715d100e8df2806aa04b0da01af035d3fcf452d6bc5b5ffedebe9ef264c99418c56725b8f0f0be9c62a075b60973136f96a316d5454c06f5474fc0df62b9494dbb52c2e96d7d7c5c55ffa049b0c9d4178e4a1dc01006c6a6e7c8242cf8425926b96d4898ec1b707e13310fa017205bbe85c573d18d1f93b24bf3045d8a650564dfdcd5d9b510163cf9bf05ada057e26b7f05153b8f3c818a2e37a1e9e5c35fe2c389c394349b4be978e4716078a0568800a9526c529b5394c68bb1d0dfe68777700322e7813cd02ec352bc4aecf0a018f2e80cff368c0862a4755728bc2f4c6a8e48baebdea0c8f7b526a6922dc38fa06837c44ae10f101305f0fbaef56a6ff00db12d2a35e1ee6b7e6364de97598416a06496573ce7c1c9cef7f8e0bcac464a67e7d1137531ca6dcab21c31b6df5ac7cea0b2ce325087c0cf4f4dc16a6694a945ade015a64b2fdabc3259849194fd04e67da0453031b5bbb2f300844841e2044ca6d24da7ee377490c9c61ce81f5367eb951780',
  '0xf90211a03a7f71ddaca4aab7806ce167410c20a9fae109ef2dbecc6679c1bdc0e7b1084aa00475e672c31f2c5fe5ebaf02aa20d90f5d1f92c07c84f25362666a462a9c5dcfa04767339c7d946c96e2f2abddc052756f8cb4bdb480e1c1109670b2259796def9a08a802e07f817b8a8b7d2d26c7055098ef96e6e72d260b94398d0f59fc8faab53a08d2523366776ef47c229ca0d416830b3afe091fb5372514b59ca6abaf42a315aa06816909e4ff22e9a80e72f319e904d9e64c89607960f7e0cc22a7f1fa0e77e25a096b9ba5e2d96703ada62dbe8351fb530003e46ec75135bb8ae4dca32f01ca368a025f02c06d1b2d596cde5537c5075eed9c2747ae8e8e49e94f61663fe0cd8986fa06bde6e78916fc703131c7235927355b393d4c9ddcb0b663ec029c3142113526aa0c30559acd6d1f3ffdd02bc71c5b73eb398360ce5b590792ca0605ee46c1574cda0d2fca3f723c74ee427754cad1baf3f1766ae6ec96497a4ee650b691a4e9c7b0fa053c0274016972816d268b2f5817d1aef088c14e3ef7c874ecc83ac67dab6b89ba0c87e7ec771291d91bae19da42cf88eee7cd1ef3551599eb0b274494aeb3a3a72a0668062d9a3a38595ba497095feb9345409d0d3bf55d17371c117f050af6c0f3ea0d59040cdfb8bfea177ee406385d5b0cddfeaeb871d7e368abdbe646a66c65057a032833fae7f7241aec33a76b0fae012975bdef725b406919750b51191d024047780',
  '0xf901d1a0cdaac1f24386b8ad05fe9002facc552f1a3fe4e154b6ac598a4fc9ced29cf66fa08cb184202418d04566f5ad0bc650a9d20e51e69b4a30a967e0b92e1f131f585ca0bfe116147405f46bf711e907c0b5e60b0fe49d8a1cd7477424e6bd6f946f04aea0b63965ccf299291026921963fdeb5885e496f2f82992d14ce1b29111b12a5184a076ded8f891b0b8ba180e6c8323b34d8d8cd7a6866cbd8408d0321be5362a63eea0981bef44af9c36d6ef1a1a172e2ae1a171aedbedfa2ce0f433f608f5ffc4f61aa0be4455c572b7911c08e489bdd2cea611cafdc3628c61d719f9752dba4fd707d9a08140f493327b97838a91ae3651b8fdde51b4fe83089a48528c8caf44b24af6f9a054b30b0c32a2357452545b748b451f9a2884cdd31780f03179bce3eefa012c9ea0e5dcc4976a340477579dccce881880685604878cb51f5bcfd3252c31ab1ccff8a0464958fa77f044f300fe9a6440a9a72c68095ce1f8b5126048b1d5c9d6b5814e80a0df7b1ab0755a7ed4b405909318ee544299f8db7f4e18c62f3cad5a420e57d0f0a0596f248603536ec155c870556a729ced3fb2ce42aec1fbd160f63c9d3c8b389280a052d3e659c1dc4ffba6876ebfd1e5b94486f25ab030e9529589a5f9a2cf98090480',
  '0xf87180808080a0216d61bc7d3db7ee9dad81cbae50413a5b561c550e768925f32638b033241ecfa04dc01907d1b0288cfeb0426191feb4396c77b42fb072247de2df2469c3e83b88808080808080808080a08ad8dd6f3ea18e8c98aa9aeaf2d29b3832099685e09bef788529b42b79ead6db80',
  '0xf851808080808080808080a0f80468e0c756b46a2b79aed2f700d292732b326ba913ca5c13f2db70175f4aa38080808080a0ebc73a4539e12c7e5ec6d112a7b794bcc09d084ce738c6ed6eaff234f2f361a480',
  '0xf8669d2025175e22c85b35ea2185b26c96801b0821bf198a3bb114ace81b3d51b846f8440180a04d14fc0663fc0c255a3fa651f29eab4745b50a9eb24c0da64c765a8d69de21d4a0fa8c9db6c6cab7108dea276f4cd09d575674eb0852c0fa3187e59e98ef977998',
]

const l2ContractData = [
  '0x01',
  '0x',
  '0x02db022d2959526a910b41f5686736103098af4ba16c5e014e0255e0289bcc04',
  '0xe7560e2b071e0e66064efb4e4076a1b250386cb69b41c2da0bf1ba223e748e46',
]

const INBOX_CONTRACT = '0xCfC89c06B5499ee50dfAf451078D85Ad71D76079'

const TOKEN = '0xAb1D243b07e99C91dE9E4B80DFc2B07a8332A2f7'

const FILLER = '0x445575a842c3f13b4625F1dE6b4ee96c721e580a'

const INTENT_CREATOR = '0x3BA5Fbec17056A4c3C689F4DfA9a3d8a48C44962'

const SEND_AMOUNT = 1234

const INTENT_HASH =
  '0x4321000000000000000000000000000000000000000000000000000000000000'

const BATCH_INDEX = 82785

const L2_INBOX_STORAGE_ROOT =
  '0x02db022d2959526a910b41f5686736103098af4ba16c5e014e0255e0289bcc04'

// storage root / storage hash from eth_getProof(l2tol1messagePasser, [], block where intent was fulfilled)
const L2_MESSAGE_PASSER_STORAGE_ROOT =
  '0xddb79187fbc466cd5cd8d327a3cf1b3fa199d17e4aa1edd6f0e4f170776aac21'

const L2_WORLD_STATE_ROOT =
  '0xc543c14c6ddc733964d287a5b302556a4d87b085169e6ee51caa29f3cc479a9c'

const L2_BATCH_LATEST_BLOCK_HASH =
  '0x38a352d17ebab79b125d97f331a7b6cec88ce80ae858a12054391781ca77fe6d'

const L1_OUTPUT_ORACLE_ADDRESS = '0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254'

const L1_OUTPUT_ORACLE_STORAGE_ROOT =
  '0x4d14fc0663fc0c255a3fa651f29eab4745b50a9eb24c0da64c765a8d69de21d4'

const L1_OUTPUT_ORACLE_CODE_HASH =
  '0xfa8c9db6c6cab7108dea276f4cd09d575674eb0852c0fa3187e59e98ef977998'

const L1_OUTPUT_ORACLE_BALANCE = 0

const L1_OUTPUT_ORACLE_NONCE = 1

const L1_WORLD_STATE_ROOT =
  '0xd8e1b69a438c4592fafedb8e246d7a102f4b75388cd5ebfbc78090ca5c942469'

const L1_BLOCK_HASH =
  '0x14d479f029064108b1ca5813f41655f1bf2dfe6973ead868525cb5f21a4d4ccf'

const L1_BLOCK_NUMBER = '0x134c2ae'

function cleanBlockData(blockData) {
  console.log('In cleanBlockData')
  // need to do some zero padding and replacements.
  // these are all the fields that can be odd-length (i think)
  // we zero pad them by 1 if they are odd length
  // and set to 0x if the value is 0x0
  // voila, its a valid Byteslike!
  const indicesToCheck = [7, 8, 9, 10, 11, 14, 15, 17, 18]
  for (let i = 0; i < indicesToCheck.length; i++) {
    const index = indicesToCheck[i]
    blockData[index] =
      blockData[index] === '0x0'
        ? '0x'
        : // eslint-disable-next-line no-self-compare
          blockData[index].length & (1 === 1)
          ? zeroPadValue(
              toBytes(blockData[index]),
              (blockData[index].length + 1 - 2) / 2,
            )
          : blockData[index]
  }
  return blockData
}

describe('Prover Test', () => {
  let alice: SignerWithAddress

  before(async () => {
    ;[alice] = await ethers.getSigners()
  })

  let prover
  let blockDataSource

  beforeEach(async () => {
    blockDataSource = await deploy(alice, MockL1Block__factory)
    // only the number and hash matters here
    await blockDataSource.setL1BlockValues(
      // L1_BLOCK_NUMBER,
      testnetL1BlockNumber,
      0,
      0,
      // L1_BLOCK_HASH,
      testnetL1BLockDataHash,
      // '0x8d232525fd45b5fd4bd1ee9a6c84abd2fe70129de20596442b1a5667a719be64',
      0,
      '0x' + '00'.repeat(32),
      0,
      0,
    )
    prover = await deploy(alice, Prover__factory, [
      await blockDataSource.getAddress(),
      L1_OUTPUT_ORACLE_ADDRESS,
    ])
  })

  it('test Formatting', async () => {
    expect('0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254').to.equal(
      getAddress('0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254'),
    )
    expect('0x56315b90c40730925ec5485cf004d835058518A0').to.equal(
      getAddress('0x56315b90c40730925ec5485cf004d835058518A0'),
    )
    // const input = '0x01c97b7b'
    // console.log('input           :', input)
    // console.log('toQuantity      :', toQuantity(input))
    // console.log('toBeHex         :', toBeHex(input))
    // console.log('toBeHexStripped :', stripZerosLeft(toBeHex(input)))
    // console.log('ecodeRlp        :', encodeRlp(toBeHex(input)))
    // expect((await blockDataSource.hash()) === L1_BLOCK_HASH)
    // // getBytes Testing
    // console.log('getBytes testing')
    // const l2OutputOracleSlotNumber = 3
    // console.log('l2OutputOracleSlotNumber: ', l2OutputOracleSlotNumber)
    // console.log('tobytes: ', toBytes(l2OutputOracleSlotNumber))
    // console.log('toBeArray: ', toBeArray(l2OutputOracleSlotNumber))

    // Optimism Cannon Root Claim Implementation
    // https://specs.optimism.io/fault-proof/index.html
    // Relevant Contract Addresses
    // https://docs.optimism.io/chain/addresses
    // Ethereum
    // Proposer: 0x473300df21D047806A082244b417f96b32f13A33
    // DisputeGameFactory: 0xe5965Ab5962eDc7477C8520243A95517CD252fA9
    // FaultDisputeGame Instance : 0xc65c6e71c5639d989c79497dc1dbfb05745bbef9
    // Optimism
    // LL2ToL1MessagePasser: 0x4200000000000000000000000000000000000016
    // Relevant Transactions
    // Proposer: 0x001378a0993047a732b6c56aabab97cfc7a8b5934b70ba5d58aa7169de0fb419
    // Proposer RootClaim: 0xbb7d60e03580594837f907cc093413c79d57f438165c23e810740aac361ddfa1
    // Dispute Game Factory: 0x001378a0993047a732b6c56aabab97cfc7a8b5934b70ba5d58aa7169de0fb419
    // Dispute Game Factory: _gameType 0
    // Dispute Game Factory Root Claim: 0xbb7d60e03580594837f907cc093413c79d57f438165c23e810740aac361ddfa1
    // Dispute Game Factory _extraData: 0x00000000000000000000000000000000000000000000000000000000074b8fba
    // Fault Dispute Game Instance:  0x001378a0993047a732b6c56aabab97cfc7a8b5934b70ba5d58aa7169de0fb419
    // Fault Dispute Game Root Claim: 0xbb7d60e03580594837f907cc093413c79d57f438165c23e810740aac361ddfa1
    // Fault Dispute Game l2BlockNumber: 122392506
    // Data to Test
    // root_claim 0xbb7d60e03580594837f907cc093413c79d57f438165c23e810740aac361ddfa1
    // l2BlockNumber: 122392506 (0x74b8fba)
    // intentHash: tbd
    // Fulfillment tx: tbd
    // Expected 0xbb7d60e03580594837f907cc093413c79d57f438165c23e810740aac361ddfa1
    // l2WorldStateRoot = l2EndBatchBlockData.stateRoot, 0x0df68f220b56ca051718e18e243769fae3296859243b8cf391b9198314f7eef8
    // l2MessagePasserStateRoot = l2MesagePasserProof.storageHash, 0x0dad8f82574fb890e31def513e65431fae8b7d253769c7b8a8f89d6f2a06e79c
    // l2LatestBlockHash = l2EndBatchBlockData.hash 0x6e423d26e1beba75c5d8d0f02ad9c8ae7e7085f16419b6fa4a3b9d726e1fe1bc
    console.log('Testing original generateOutputRoot')
    const mainnetOutputRootOptimism = solidityPackedKeccak256(
      ['uint256', 'bytes32', 'bytes32', 'bytes32'],
      [
        0,
        // mainnetL2_WORLD_STATE_ROOT_ORIGINAL,
        // mainnetL2_MESSAGE_PASSER_STORAGE_ROOT_ORIGINAL,
        // mainnetL2_BATCH_LATEST_BLOCK_HASH_ORIGINAL,
        '0x0df68f220b56ca051718e18e243769fae3296859243b8cf391b9198314f7eef8',
        '0x0dad8f82574fb890e31def513e65431fae8b7d253769c7b8a8f89d6f2a06e79c',
        '0x6e423d26e1beba75c5d8d0f02ad9c8ae7e7085f16419b6fa4a3b9d726e1fe1bc',
      ],
    )
    expect(mainnetOutputRootOptimism).to.equal(
      '0xbb7d60e03580594837f907cc093413c79d57f438165c23e810740aac361ddfa1',
    )

    // Mainnet Original (working) intent
    // intentHash: 0x68adfbd50ded4b84efe4044192467daedab8c1d65d1de5aca9b8a572f4abf27a
    // Fulfillment tx: 0xaeea40a56220e99e89a7f8e08538044d1b952207281c3ad191f1e4d98b7db9cd
    // Expected 0x4e25a70ffe43c03244af75a83547054daf067eabf9529b6af4308ff09c4ab432
    // l2WorldStateRoot = l2EndBatchBlockData.stateRoot, 0xfa953177491556f5a52201cde22550d2f8b3cf8669d87207739eb1163120b6c1
    // l2MessagePasserStateRoot = l2MesagePasserProof.storageHash, 0xd8e1f702b91d878cdb5158b80a48d6a09547fc4da265b6da8e02e400bc7070fc
    // l2LatestBlockHash = l2EndBatchBlockData.hash 0x6bfaba5eec32daf51506ee1eafc1c03c47310b853f4aa50ed5887c9b74a24323
    console.log('Testing original generateOutputRoot')
    const mainnetOutputRootOriginal = solidityPackedKeccak256(
      ['uint256', 'bytes32', 'bytes32', 'bytes32'],
      [
        0,
        mainnetL2_WORLD_STATE_ROOT_ORIGINAL,
        mainnetL2_MESSAGE_PASSER_STORAGE_ROOT_ORIGINAL,
        mainnetL2_BATCH_LATEST_BLOCK_HASH_ORIGINAL,
        // '0xfa953177491556f5a52201cde22550d2f8b3cf8669d87207739eb1163120b6c1',
        // '0xd8e1f702b91d878cdb5158b80a48d6a09547fc4da265b6da8e02e400bc7070fc',
        // '0x6bfaba5eec32daf51506ee1eafc1c03c47310b853f4aa50ed5887c9b74a24323',
      ],
    )
    expect(mainnetOutputRootOriginal).to.equal(
      '0x4e25a70ffe43c03244af75a83547054daf067eabf9529b6af4308ff09c4ab432',
    )

    // Generate Output Root is wrong for mainnet current
    // Expected 0xdd6bb4535a7f07c5098c3c3b36969ec63632891673c80f2f76d994bb5bf63683
    // Getting  0xa7f5660bdc1efe3f61dbe345a0b24cbfdcf293f4b0d33c6a852c6e5134306770
    // outputRoot = generateOutputRoot(L2_OUTPUT_ROOT_VERSION_NUMBER, l2WorldStateRoot, l2MessagePasserStateRoot, l2LatestBlockHash);
    // L2_OUTPUT_ROOT_VERSION_NUMBER = 0
    // l2WorldStateRoot = l2EndBatchBlockData.stateRoot,
    // l2MessagePasserStateRoot = l2MesagePasserProof.storageHash,
    // l2LatestBlockHash = l2EndBatchBlockData.hash

    console.log('Testing current generateOutputRoot')

    const mainnetOutputRoot = solidityPackedKeccak256(
      ['uint256', 'bytes32', 'bytes32', 'bytes32'],
      [
        0,
        mainnetL2_WORLD_STATE_ROOT,
        mainnetL2_MESSAGE_PASSER_STORAGE_ROOT,
        mainnetL2_BATCH_LATEST_BLOCK_HASH,
      ],
    )
    expect(mainnetOutputRoot).to.equal(
      '0xdd6bb4535a7f07c5098c3c3b36969ec63632891673c80f2f76d994bb5bf63683',
    )
  })

  it('has the correct block hash', async () => {
    expect((await blockDataSource.hash()) === L1_BLOCK_HASH)
  })

  it('has the formatted the block correctly', async () => {
    const rlpEncodedBlockData = getBytes(
      hexlify(encodeRlp(testnetCleanedL1BlockData)),
    )
    await prover.proveL1WorldState(rlpEncodedBlockData)
  })

  it('can prove L2 storage', async () => {
    prover.proveStorage(
      '0xfc3e15078e229f29b5446a5a01dc281ef6c7c3054d5a5622159257fe61e0aac7',
      '0x94' + FILLER.slice(2), // 0x80 (base val) + 0x14 (or 20 in decimal) for the length of the address
      l2StorageProof,
      L2_INBOX_STORAGE_ROOT,
    )
  })

  it('can prove L1 storage', async () => {
    await prover.proveStorage(
      '0xc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f747F1D',
      '0xa082af251eb4e15ec624f3a0d8e891892e45272cc3b364dec56cd00a1b2f36f62d', // prefix wih a0 because it's a 32 byte blob
      l1StorageProof,
      L1_OUTPUT_ORACLE_STORAGE_ROOT,
    )
  })

  it('can prove L1 account', async () => {
    const val = await prover.rlpEncodeDataLibList(l1ContractData)

    prover.proveAccount(
      L1_OUTPUT_ORACLE_ADDRESS,
      val,
      l1AccountProof,
      L1_WORLD_STATE_ROOT,
    )
  })

  it('can prove L2 account', async () => {
    const val = await prover.rlpEncodeDataLibList(l2ContractData)

    prover.proveAccount(
      INBOX_CONTRACT,
      val,
      l2AccountProof,
      L2_WORLD_STATE_ROOT,
    )
  })

  it('full testnet proof', async () => {
    const rlpEncodedBlockData = getBytes(
      hexlify(encodeRlp(testnetCleanedL1BlockData)),
    )
    await prover.proveL1WorldState(rlpEncodedBlockData)

    await prover.proveOutputRoot(
      testnetL2_WORLD_STATE_ROOT,
      testnetL2_MESSAGE_PASSER_STORAGE_ROOT,
      testnetL2_BATCH_LATEST_BLOCK_HASH,
      testnetBATCH_INDEX,
      testnetl1StorageProof,
      await prover.rlpEncodeDataLibList(testnetl1ContractData),
      testnetl1AccountProof,
      testnetL1_WORLD_STATE_ROOT,
    )

    // await prover.proveIntent(
    //   FILLER,
    //   INBOX_CONTRACT,
    //   INTENT_HASH,
    //   1, // no need to be specific about output indexes yet
    //   l2StorageProof,
    //   await prover.rlpEncodeDataLibList(l2ContractData),
    //   l2AccountProof,
    //   L2_WORLD_STATE_ROOT,
    // )

    // expect((await prover.provenIntents(INTENT_HASH)) === FILLER).to.be.true
  })

  it('full mainnet proof', async () => {
    const mainnetBlockDataSource = await deploy(alice, MockL1Block__factory)
    // only the number and hash matters here
    await mainnetBlockDataSource.setL1BlockValues(
      // L1_BLOCK_NUMBER,
      mainnetL1BlockNumberFull,
      0,
      0,
      // L1_BLOCK_HASH,
      mainnetL1BLockDataHashFull,
      // '0x8d232525fd45b5fd4bd1ee9a6c84abd2fe70129de20596442b1a5667a719be64',
      0,
      '0x' + '00'.repeat(32),
      0,
      0,
    )
    const mainnetProver = await deploy(alice, Prover__factory, [
      await mainnetBlockDataSource.getAddress(),
      L1_MAINNET_OUTPUT_ORACLE_ADDRESS,
    ])

    // const rlpEncodedBlockData = getBytes(
    //   hexlify(encodeRlp(mainnetCleanedL1BlockData)),
    // )
    await mainnetProver.proveL1WorldState(mainnetL1RLPEncodedBlockDataFull)

    // Validate proveStorage
    // key = OracleProof StorageSlot
    const key =
      '0xc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f72407d'
    // val = bytes.concat(bytes1(uint8(0xa0)), abi.encodePacked(outputRoot)),
    // Generate Output Root is wrong for mainnet
    // Expected 0xdd6bb4535a7f07c5098c3c3b36969ec63632891673c80f2f76d994bb5bf63683
    // Getting  0xa7f5660bdc1efe3f61dbe345a0b24cbfdcf293f4b0d33c6a852c6e5134306770
    // outputRoot = generateOutputRoot(L2_OUTPUT_ROOT_VERSION_NUMBER, l2WorldStateRoot, l2MessagePasserStateRoot, l2LatestBlockHash);
    // L2_OUTPUT_ROOT_VERSION_NUMBER = 0
    // l2WorldStateRoot = l2EndBatchBlockData.stateRoot,
    // l2MessagePasserStateRoot = l2MesagePasserProof.storageHash,
    // l2LatestBlockHash = l2EndBatchBlockData.hash

    const mainnetOutputRoot = solidityPackedKeccak256(
      ['uint256', 'bytes32', 'bytes32', 'bytes32'],
      [
        5,
        mainnetL2_WORLD_STATE_ROOT,
        mainnetL2_MESSAGE_PASSER_STORAGE_ROOT,
        mainnetL2_BATCH_LATEST_BLOCK_HASH,
      ],
    )
    console.log('mainnetOutputRoot: ', mainnetOutputRoot)

    // const val =
    //   '0xa0a7f5660bdc1efe3f61dbe345a0b24cbfdcf293f4b0d33c6a852c6e5134306770'
    // const proof = mainnetl1StorageProof // OracleProof Storage Proof
    // const root =
    //   '0x559107e834c19bd65e18c3c30942074e30778de8ca9dc4e57bf42c691978d003' // OracleProof StorageHash

    // await mainnetProver.proveStorage(key, val, proof, root)

    await mainnetProver.proveOutputRoot(
      mainnetL2_WORLD_STATE_ROOT,
      mainnetL2_MESSAGE_PASSER_STORAGE_ROOT,
      mainnetL2_BATCH_LATEST_BLOCK_HASH,
      mainnetBATCH_INDEX,
      mainnetl1StorageProof,
      await mainnetProver.rlpEncodeDataLibList(mainnetl1ContractData),
      mainnetl1AccountProof,
      mainnetL1_WORLD_STATE_ROOT,
    )

    // await prover.proveIntent(
    //   FILLER,
    //   INBOX_CONTRACT,
    //   INTENT_HASH,
    //   1, // no need to be specific about output indexes yet
    //   l2StorageProof,
    //   await prover.rlpEncodeDataLibList(l2ContractData),
    //   l2AccountProof,
    //   L2_WORLD_STATE_ROOT,
    // )

    // expect((await prover.provenIntents(INTENT_HASH)) === FILLER).to.be.true
  })
})
